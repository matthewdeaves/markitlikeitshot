2024-12-22 11:57:30 - app.main - INFO - Starting application initialization...
2024-12-22 11:57:30 - app.main - DEBUG - Application configuration:
2024-12-22 11:57:30 - app.main - DEBUG - Environment: production
2024-12-22 11:57:30 - app.main - DEBUG - Log Level: INFO
2024-12-22 11:57:30 - app.main - DEBUG - API Key Auth: True
2024-12-22 11:57:30 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 11:57:30 - app.main - INFO - Initializing database...
2024-12-22 11:57:30 - app.db.init_db - INFO - Creating database tables...
2024-12-22 11:57:30 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 11:57:30 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 11:57:30 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 11:57:30 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("api_keys")
2024-12-22 11:57:30 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 11:57:30 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE api_keys (
	id INTEGER NOT NULL, 
	"key" VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	role VARCHAR(5) NOT NULL, 
	created_at DATETIME NOT NULL, 
	last_used DATETIME, 
	is_active BOOLEAN NOT NULL, 
	created_by INTEGER, 
	PRIMARY KEY (id)
)


2024-12-22 11:57:30 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ()
2024-12-22 11:57:30 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_api_keys_key ON api_keys ("key")
2024-12-22 11:57:30 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2024-12-22 11:57:30 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 11:57:30 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 11:57:30 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 11:57:30 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 11:57:30 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 11:57:30 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 11:57:30 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 11:57:30 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 11:57:30 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 11:57:30 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 11:57:30 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 11:57:30 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 11:57:30 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_by
2024-12-22 11:57:30 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 11:57:30 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.created_by 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.is_active = 1
2024-12-22 11:57:30 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('ADMIN',)
2024-12-22 11:57:30 - app.db.init_db - INFO - No admin key found. Creating initial admin API key...
2024-12-22 11:57:30 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.created_by 
FROM api_keys 
WHERE api_keys.name = ?
2024-12-22 11:57:30 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('System Admin',)
2024-12-22 11:57:30 - sqlalchemy.engine.Engine - INFO - INSERT INTO api_keys ("key", name, role, created_at, last_used, is_active, created_by) VALUES (?, ?, ?, ?, ?, ?, ?)
2024-12-22 11:57:30 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('$2b$12$2bGuPWMncg7tnt5CWlZaYum9eoCTbp.AZp9NrFuQnoZHsUL6C4ox2', 'System Admin', 'ADMIN', '2024-12-22 11:57:30.797014', None, 1, None)
2024-12-22 11:57:30 - app.db.init_db - INFO - 

============================================================
INITIAL ADMIN API KEY CREATED
------------------------------------------------------------
Name: System Admin
Key:  b2_tNaHKRcjpOGEyTU_Bg_aA7bcHeOCOOADJoOEQFAU
Role: Role.ADMIN
------------------------------------------------------------
IMPORTANT: Save this key - it will not be shown again!
============================================================
2024-12-22 11:57:30 - app.db.init_db - INFO - Initial admin API key created successfully
2024-12-22 11:57:30 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 11:57:30 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 11:57:30 - app.db.session - DEBUG - Closing database session
2024-12-22 11:57:30 - app.main - INFO - Application started successfully in production mode
2024-12-22 11:57:33 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 11:57:33 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 11:57:33 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ()
2024-12-22 11:57:33 - app.db - DEBUG - Database health check successful
2024-12-22 11:57:33 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 11:57:33 - app.db.session - DEBUG - Closing database session
2024-12-22 11:57:33 - app.main - DEBUG - Health check details
2024-12-22 11:58:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 11:58:00 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 11:58:00 - sqlalchemy.engine.Engine - INFO - [cached since 26.82s ago] ()
2024-12-22 11:58:00 - app.db - DEBUG - Database health check successful
2024-12-22 11:58:00 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 11:58:00 - app.db.session - DEBUG - Closing database session
2024-12-22 11:58:00 - app.main - DEBUG - Health check details
2024-12-22 11:58:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 11:58:03 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 11:58:03 - sqlalchemy.engine.Engine - INFO - [cached since 30.06s ago] ()
2024-12-22 11:58:03 - app.db - DEBUG - Database health check successful
2024-12-22 11:58:03 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 11:58:03 - app.db.session - DEBUG - Closing database session
2024-12-22 11:58:03 - app.main - DEBUG - Health check details
2024-12-22 11:58:08 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 11:58:08 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.created_by 
FROM api_keys 
WHERE api_keys.is_active = 1
2024-12-22 11:58:08 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ()
2024-12-22 11:58:08 - sqlalchemy.engine.Engine - INFO - UPDATE api_keys SET last_used=? WHERE api_keys.id = ?
2024-12-22 11:58:08 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('2024-12-22 11:58:08.558802', 1)
2024-12-22 11:58:08 - app.api.v1.endpoints.conversion - INFO - Starting convert_text
2024-12-22 11:58:08 - app.api.conversion - DEBUG - Temporary file created
2024-12-22 11:58:08 - app.api.conversion.performance - INFO - content conversion completed
2024-12-22 11:58:08 - app.api.conversion - INFO - content conversion successful
2024-12-22 11:58:08 - app.api.conversion - DEBUG - Temporary file removed: /tmp/tmp4uuuofsh.html
2024-12-22 11:58:08 - app.api.v1.endpoints.conversion - INFO - Completed convert_text
2024-12-22 11:58:08 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 11:58:08 - app.db.session - DEBUG - Closing database session
2024-12-22 11:58:33 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 11:58:33 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 11:58:33 - sqlalchemy.engine.Engine - INFO - [cached since 60.12s ago] ()
2024-12-22 11:58:33 - app.db - DEBUG - Database health check successful
2024-12-22 11:58:33 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 11:58:33 - app.db.session - DEBUG - Closing database session
2024-12-22 11:58:33 - app.main - DEBUG - Health check details
2024-12-22 11:59:04 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 11:59:04 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 11:59:04 - sqlalchemy.engine.Engine - INFO - [cached since 90.18s ago] ()
2024-12-22 11:59:04 - app.db - DEBUG - Database health check successful
2024-12-22 11:59:04 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 11:59:04 - app.db.session - DEBUG - Closing database session
2024-12-22 11:59:04 - app.main - DEBUG - Health check details
2024-12-22 11:59:05 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 11:59:05 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.created_by 
FROM api_keys 
WHERE api_keys.is_active = 1
2024-12-22 11:59:05 - sqlalchemy.engine.Engine - INFO - [cached since 57.54s ago] ()
2024-12-22 11:59:06 - sqlalchemy.engine.Engine - INFO - UPDATE api_keys SET last_used=? WHERE api_keys.id = ?
2024-12-22 11:59:06 - sqlalchemy.engine.Engine - INFO - [cached since 57.53s ago] ('2024-12-22 11:59:06.093165', 1)
2024-12-22 11:59:06 - app.api.v1.endpoints.conversion - INFO - Starting convert_file
2024-12-22 11:59:06 - app.api.conversion - INFO - file conversion initiated
2024-12-22 11:59:06 - app.api.conversion - DEBUG - Temporary file created
2024-12-22 11:59:06 - app.api.conversion.performance - INFO - content conversion completed
2024-12-22 11:59:06 - app.api.conversion - INFO - content conversion successful
2024-12-22 11:59:06 - app.api.conversion - DEBUG - Temporary file removed: /tmp/tmpmk1_lf6f.docx
2024-12-22 11:59:06 - app.api.v1.endpoints.conversion - INFO - Completed convert_file
2024-12-22 11:59:06 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 11:59:06 - app.db.session - DEBUG - Closing database session
2024-12-22 11:59:20 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 11:59:20 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.created_by 
FROM api_keys 
WHERE api_keys.is_active = 1
2024-12-22 11:59:20 - sqlalchemy.engine.Engine - INFO - [cached since 72.3s ago] ()
2024-12-22 11:59:20 - sqlalchemy.engine.Engine - INFO - UPDATE api_keys SET last_used=? WHERE api_keys.id = ?
2024-12-22 11:59:20 - sqlalchemy.engine.Engine - INFO - [cached since 72.3s ago] ('2024-12-22 11:59:20.856712', 1)
2024-12-22 11:59:20 - app.api.v1.endpoints.conversion - INFO - Starting convert_url
2024-12-22 11:59:20 - app.api.conversion - INFO - url conversion initiated
2024-12-22 11:59:21 - app.api.conversion - DEBUG - Temporary file created
2024-12-22 11:59:21 - app.api.conversion.performance - INFO - content conversion completed
2024-12-22 11:59:21 - app.api.conversion - INFO - content conversion successful
2024-12-22 11:59:21 - app.api.conversion - DEBUG - Temporary file removed: /tmp/tmp1c3h8ob5.html
2024-12-22 11:59:21 - app.api.v1.endpoints.conversion - INFO - Completed convert_url
2024-12-22 11:59:21 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 11:59:21 - app.db.session - DEBUG - Closing database session
2024-12-22 11:59:34 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 11:59:34 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 11:59:34 - sqlalchemy.engine.Engine - INFO - [cached since 120.2s ago] ()
2024-12-22 11:59:34 - app.db - DEBUG - Database health check successful
2024-12-22 11:59:34 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 11:59:34 - app.db.session - DEBUG - Closing database session
2024-12-22 11:59:34 - app.main - DEBUG - Health check details
2024-12-22 12:00:04 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:00:04 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:00:04 - sqlalchemy.engine.Engine - INFO - [cached since 150.3s ago] ()
2024-12-22 12:00:04 - app.db - DEBUG - Database health check successful
2024-12-22 12:00:04 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:00:04 - app.db.session - DEBUG - Closing database session
2024-12-22 12:00:04 - app.main - DEBUG - Health check details
