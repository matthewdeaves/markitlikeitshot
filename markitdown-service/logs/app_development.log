2024-12-22 12:30:27 - app.main - INFO - Starting application initialization...
2024-12-22 12:30:27 - app.main - DEBUG - Application configuration:
2024-12-22 12:30:27 - app.main - DEBUG - Environment: development
2024-12-22 12:30:27 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:30:27 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:30:27 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:30:27 - app.main - INFO - Initializing database...
2024-12-22 12:30:27 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:30:27 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:30:27 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:30:27 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:30:27 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2024-12-22 12:30:27 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:30:27 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:30:27 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:30:27 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("api_keys")
2024-12-22 12:30:27 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:30:27 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	name VARCHAR NOT NULL, 
	email VARCHAR NOT NULL, 
	status VARCHAR(8) NOT NULL, 
	created_at DATETIME NOT NULL, 
	PRIMARY KEY (id)
)


2024-12-22 12:30:27 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ()
2024-12-22 12:30:27 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_email ON users (email)
2024-12-22 12:30:27 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2024-12-22 12:30:27 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE api_keys (
	id INTEGER NOT NULL, 
	"key" VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	role VARCHAR(5) NOT NULL, 
	created_at DATETIME NOT NULL, 
	last_used DATETIME, 
	is_active BOOLEAN NOT NULL, 
	user_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2024-12-22 12:30:27 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ()
2024-12-22 12:30:28 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_api_keys_key ON api_keys ("key")
2024-12-22 12:30:28 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ()
2024-12-22 12:30:28 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:30:28 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:30:28 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:30:28 - app.db.init_db - ERROR - Failed to create initial admin user/key: 'Settings' object has no attribute 'INITIAL_ADMIN_EMAIL'
2024-12-22 12:30:28 - app.db.init_db - ERROR - Detailed error:
Traceback (most recent call last):
  File "/app/app/db/init_db.py", line 26, in init_db
    User.email == settings.INITIAL_ADMIN_EMAIL
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.13/site-packages/pydantic/main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'INITIAL_ADMIN_EMAIL'. Did you mean: 'INITIAL_ADMIN_NAME'?
2024-12-22 12:30:28 - app.db.session - ERROR - Database session error, rolling back transaction
Traceback (most recent call last):
  File "/app/app/db/session.py", line 35, in get_db_session
    yield session
  File "/app/app/db/init_db.py", line 101, in ensure_db_initialized
    init_db(db)
    ~~~~~~~^^^^
  File "/app/app/db/init_db.py", line 26, in init_db
    User.email == settings.INITIAL_ADMIN_EMAIL
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.13/site-packages/pydantic/main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'INITIAL_ADMIN_EMAIL'. Did you mean: 'INITIAL_ADMIN_NAME'?
2024-12-22 12:30:28 - app.db.session - DEBUG - Closing database session
2024-12-22 12:30:28 - app.db.init_db - ERROR - Failed to initialize database
2024-12-22 12:30:28 - app.db.init_db - ERROR - 'Settings' object has no attribute 'INITIAL_ADMIN_EMAIL'
Traceback (most recent call last):
  File "/app/app/db/init_db.py", line 101, in ensure_db_initialized
    init_db(db)
    ~~~~~~~^^^^
  File "/app/app/db/init_db.py", line 26, in init_db
    User.email == settings.INITIAL_ADMIN_EMAIL
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.13/site-packages/pydantic/main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'INITIAL_ADMIN_EMAIL'. Did you mean: 'INITIAL_ADMIN_NAME'?
2024-12-22 12:30:28 - app.main - CRITICAL - Failed to initialize application: 'Settings' object has no attribute 'INITIAL_ADMIN_EMAIL'
Traceback (most recent call last):
  File "/app/app/main.py", line 53, in lifespan
    ensure_db_initialized()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/app/app/db/init_db.py", line 101, in ensure_db_initialized
    init_db(db)
    ~~~~~~~^^^^
  File "/app/app/db/init_db.py", line 26, in init_db
    User.email == settings.INITIAL_ADMIN_EMAIL
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.13/site-packages/pydantic/main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'Settings' object has no attribute 'INITIAL_ADMIN_EMAIL'. Did you mean: 'INITIAL_ADMIN_NAME'?
2024-12-22 12:33:39 - app.main - INFO - Starting application initialization...
2024-12-22 12:33:39 - app.main - DEBUG - Application configuration:
2024-12-22 12:33:39 - app.main - DEBUG - Environment: development
2024-12-22 12:33:39 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:33:39 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:33:39 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:33:39 - app.main - INFO - Initializing database...
2024-12-22 12:33:39 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:33:39 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:33:39 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:33:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:33:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:33:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:33:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:33:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:33:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:33:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:33:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:33:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:33:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:33:39 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:33:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:33:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:33:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:33:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:33:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:33:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:33:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:33:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:33:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:33:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:33:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:33:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:33:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:33:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:33:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:33:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:33:39 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:33:39 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:33:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:33:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:33:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:33:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:33:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:33:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:33:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:33:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:33:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('admin@example.com',)
2024-12-22 12:33:39 - app.db.init_db - INFO - No admin user found. Creating initial admin user...
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - [cached since 0.001508s ago] ('admin@example.com',)
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (name, email, status, created_at) VALUES (?, ?, ?, ?)
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('System Admin', 'admin@example.com', 'ACTIVE', '2024-12-22 12:33:39.257498')
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.id = ?
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] (1,)
2024-12-22 12:33:39 - app.db.init_db - INFO - Created admin user: System Admin
2024-12-22 12:33:39 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('ADMIN', 1)
2024-12-22 12:33:39 - app.db.init_db - INFO - No admin key found. Creating initial admin API key...
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.name = ? AND api_keys.user_id = ?
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ("System Admin's Admin Key", 1)
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - INSERT INTO api_keys ("key", name, role, created_at, last_used, is_active, user_id) VALUES (?, ?, ?, ?, ?, ?, ?)
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('$2b$12$UJI9yg/.vn8Uda7iuR.lUOfv4bKFEE8buN1i.HY/fcer9vfcdF74q', "System Admin's Admin Key", 'ADMIN', '2024-12-22 12:33:39.585210', None, 1, 1)
2024-12-22 12:33:39 - app.db.init_db - INFO - 

============================================================
INITIAL ADMIN SETUP COMPLETE
------------------------------------------------------------
Admin User:
  Name:  System Admin
  Email: admin@example.com
  ID:    1

Admin API Key:
  Name:  System Admin's Admin Key
  Key:   c9BV8NfP4OegJ1oVZBFAzpe45Ff6kbkX0IJ6t3KBHkE
  Role:  Role.ADMIN
------------------------------------------------------------
IMPORTANT: Save this key - it will not be shown again!
============================================================
2024-12-22 12:33:39 - app.db.init_db - INFO - Initial admin API key created successfully
2024-12-22 12:33:39 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:33:39 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:33:39 - app.db.session - DEBUG - Closing database session
2024-12-22 12:33:39 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:33:51 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:33:51 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:33:55 - app.main - INFO - Starting application initialization...
2024-12-22 12:33:55 - app.main - DEBUG - Application configuration:
2024-12-22 12:33:55 - app.main - DEBUG - Environment: development
2024-12-22 12:33:55 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:33:55 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:33:55 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:33:55 - app.main - INFO - Initializing database...
2024-12-22 12:33:55 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:33:55 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:33:55 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:33:55 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:33:55 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:33:55 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:33:55 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:33:55 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:33:55 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:33:55 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:33:55 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:33:55 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:33:55 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:33:55 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:33:55 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:33:55 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:33:55 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:33:55 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:33:55 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:33:55 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:33:55 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:33:55 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:33:55 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:33:55 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:33:55 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:33:55 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:33:55 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:33:55 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:33:55 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:33:55 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:33:55 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:33:55 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:33:55 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:33:55 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:33:55 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:33:55 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:33:55 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:33:55 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:33:55 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:33:55 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:33:55 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:33:55 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:33:55 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:33:55 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:33:55 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:33:55 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:33:55 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:33:55 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:33:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:33:55 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('admin@example.com',)
2024-12-22 12:33:55 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 12:33:55 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:33:55 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:33:55 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('ADMIN', 1)
2024-12-22 12:33:55 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 12:33:55 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 12:33:55 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:33:55 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:33:55 - app.db.session - DEBUG - Closing database session
2024-12-22 12:33:55 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:33:58 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:33:58 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:33:58 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ()
2024-12-22 12:33:58 - app.db - DEBUG - Database health check successful
2024-12-22 12:33:58 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:33:58 - app.db.session - DEBUG - Closing database session
2024-12-22 12:33:58 - app.main - DEBUG - Health check details
2024-12-22 12:34:08 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:34:08 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:34:18 - app.main - INFO - Starting application initialization...
2024-12-22 12:34:18 - app.main - DEBUG - Application configuration:
2024-12-22 12:34:18 - app.main - DEBUG - Environment: development
2024-12-22 12:34:18 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:34:18 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:34:18 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:34:18 - app.main - INFO - Initializing database...
2024-12-22 12:34:18 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("api_keys")
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	name VARCHAR NOT NULL, 
	email VARCHAR NOT NULL, 
	status VARCHAR(8) NOT NULL, 
	created_at DATETIME NOT NULL, 
	PRIMARY KEY (id)
)


2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ()
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_email ON users (email)
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ()
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE api_keys (
	id INTEGER NOT NULL, 
	"key" VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	role VARCHAR(5) NOT NULL, 
	created_at DATETIME NOT NULL, 
	last_used DATETIME, 
	is_active BOOLEAN NOT NULL, 
	user_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ()
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_api_keys_key ON api_keys ("key")
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ()
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:34:18 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:34:18 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:34:18 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:34:18 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:34:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:34:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:34:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:34:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:34:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:34:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:34:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:34:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:34:18 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:34:18 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:34:18 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:34:18 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:34:18 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:34:18 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:34:18 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:34:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:34:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:34:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:34:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:34:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:34:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:34:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:34:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:34:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:34:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:34:18 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:34:18 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:34:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:34:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:34:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:34:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:34:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:34:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:34:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:34:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:34:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('admin@example.com',)
2024-12-22 12:34:18 - app.db.init_db - INFO - No admin user found. Creating initial admin user...
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - [cached since 0.001194s ago] ('admin@example.com',)
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (name, email, status, created_at) VALUES (?, ?, ?, ?)
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('System Admin', 'admin@example.com', 'ACTIVE', '2024-12-22 12:34:18.507027')
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.id = ?
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (1,)
2024-12-22 12:34:18 - app.db.init_db - INFO - Created admin user: System Admin
2024-12-22 12:34:18 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('ADMIN', 1)
2024-12-22 12:34:18 - app.db.init_db - INFO - No admin key found. Creating initial admin API key...
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.name = ? AND api_keys.user_id = ?
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ("System Admin's Admin Key", 1)
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - INSERT INTO api_keys ("key", name, role, created_at, last_used, is_active, user_id) VALUES (?, ?, ?, ?, ?, ?, ?)
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('$2b$12$Dv35pvCgH58RZpjniYuub.YTSnUrT9OHeRfuRPKefNc2pYoDnTVDq', "System Admin's Admin Key", 'ADMIN', '2024-12-22 12:34:18.788477', None, 1, 1)
2024-12-22 12:34:18 - app.db.init_db - INFO - 

============================================================
INITIAL ADMIN SETUP COMPLETE
------------------------------------------------------------
Admin User:
  Name:  System Admin
  Email: admin@example.com
  ID:    1

Admin API Key:
  Name:  System Admin's Admin Key
  Key:   FfvjB_y2hj0IaFK7r6Fbhk9-mXw4BhPNu7YOsOWqF8k
  Role:  Role.ADMIN
------------------------------------------------------------
IMPORTANT: Save this key - it will not be shown again!
============================================================
2024-12-22 12:34:18 - app.db.init_db - INFO - Initial admin API key created successfully
2024-12-22 12:34:18 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:34:18 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:34:18 - app.db.session - DEBUG - Closing database session
2024-12-22 12:34:18 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:34:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:34:21 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:34:21 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ()
2024-12-22 12:34:21 - app.db - DEBUG - Database health check successful
2024-12-22 12:34:21 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:34:21 - app.db.session - DEBUG - Closing database session
2024-12-22 12:34:21 - app.main - DEBUG - Health check details
2024-12-22 12:34:51 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:34:51 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:34:51 - sqlalchemy.engine.Engine - INFO - [cached since 30.06s ago] ()
2024-12-22 12:34:51 - app.db - DEBUG - Database health check successful
2024-12-22 12:34:51 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:34:51 - app.db.session - DEBUG - Closing database session
2024-12-22 12:34:51 - app.main - DEBUG - Health check details
2024-12-22 12:35:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:35:21 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:35:21 - sqlalchemy.engine.Engine - INFO - [cached since 60.11s ago] ()
2024-12-22 12:35:21 - app.db - DEBUG - Database health check successful
2024-12-22 12:35:21 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:35:21 - app.db.session - DEBUG - Closing database session
2024-12-22 12:35:21 - app.main - DEBUG - Health check details
2024-12-22 12:35:51 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:35:51 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:35:51 - sqlalchemy.engine.Engine - INFO - [cached since 90.18s ago] ()
2024-12-22 12:35:51 - app.db - DEBUG - Database health check successful
2024-12-22 12:35:51 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:35:51 - app.db.session - DEBUG - Closing database session
2024-12-22 12:35:51 - app.main - DEBUG - Health check details
2024-12-22 12:35:55 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:35:55 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:35:57 - app.main - INFO - Starting application initialization...
2024-12-22 12:35:57 - app.main - DEBUG - Application configuration:
2024-12-22 12:35:57 - app.main - DEBUG - Environment: development
2024-12-22 12:35:57 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:35:57 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:35:57 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:35:57 - app.main - INFO - Initializing database...
2024-12-22 12:35:57 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:35:57 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:35:57 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:35:57 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:35:57 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:35:57 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:35:57 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:35:57 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:35:57 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:35:57 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:35:57 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:35:57 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:35:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:35:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:35:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:35:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:35:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:35:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:35:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:35:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:35:57 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:35:57 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:35:57 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:35:57 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:35:57 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:35:57 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:35:57 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:35:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:35:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:35:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:35:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:35:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:35:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:35:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:35:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:35:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:35:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:35:57 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:35:57 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:35:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:35:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:35:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:35:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:35:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:35:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:35:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:35:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:35:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:35:57 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:35:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('admin@example.com',)
2024-12-22 12:35:57 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 12:35:57 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:35:57 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:35:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('ADMIN', 1)
2024-12-22 12:35:57 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 12:35:57 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 12:35:57 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:35:57 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:35:57 - app.db.session - DEBUG - Closing database session
2024-12-22 12:35:57 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:35:58 - app.main - INFO - Starting application initialization...
2024-12-22 12:35:58 - app.main - DEBUG - Application configuration:
2024-12-22 12:35:58 - app.main - DEBUG - Environment: development
2024-12-22 12:35:58 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:35:58 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:35:58 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:35:58 - app.main - INFO - Initializing database...
2024-12-22 12:35:58 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:35:58 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:35:58 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:35:58 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:35:58 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:35:58 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:35:58 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:35:58 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:35:58 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:35:58 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:35:58 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:35:58 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:35:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:35:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:35:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:35:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:35:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:35:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:35:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:35:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:35:58 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:35:58 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:35:58 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:35:58 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:35:58 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:35:58 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:35:58 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:35:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:35:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:35:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:35:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:35:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:35:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:35:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:35:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:35:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:35:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:35:58 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:35:58 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:35:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:35:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:35:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:35:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:35:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:35:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:35:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:35:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:35:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:35:58 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:35:58 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('admin@example.com',)
2024-12-22 12:35:58 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 12:35:58 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:35:58 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:35:58 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('ADMIN', 1)
2024-12-22 12:35:58 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 12:35:58 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 12:35:58 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:35:58 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:35:58 - app.db.session - DEBUG - Closing database session
2024-12-22 12:35:58 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:36:08 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:36:08 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:36:26 - app.main - INFO - Starting application initialization...
2024-12-22 12:36:26 - app.main - DEBUG - Application configuration:
2024-12-22 12:36:26 - app.main - DEBUG - Environment: development
2024-12-22 12:36:26 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:36:26 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:36:26 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:36:26 - app.main - INFO - Initializing database...
2024-12-22 12:36:26 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("users")
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - PRAGMA temp.table_info("api_keys")
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	name VARCHAR NOT NULL, 
	email VARCHAR NOT NULL, 
	status VARCHAR(8) NOT NULL, 
	created_at DATETIME NOT NULL, 
	PRIMARY KEY (id)
)


2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ()
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_email ON users (email)
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ()
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE api_keys (
	id INTEGER NOT NULL, 
	"key" VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	role VARCHAR(5) NOT NULL, 
	created_at DATETIME NOT NULL, 
	last_used DATETIME, 
	is_active BOOLEAN NOT NULL, 
	user_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ()
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_api_keys_key ON api_keys ("key")
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ()
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:36:26 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:36:26 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:36:26 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:36:26 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:36:26 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:36:26 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:36:26 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:36:26 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:36:26 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:36:26 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:36:26 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:36:26 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:36:26 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:36:26 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:36:26 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:36:26 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:36:26 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:36:26 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:36:26 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:36:26 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:36:26 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:36:26 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:36:26 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:36:26 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:36:26 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:36:26 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:36:26 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:36:26 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:36:26 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:36:26 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:36:26 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:36:26 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:36:26 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:36:26 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:36:26 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:36:26 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:36:26 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:36:26 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:36:26 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:36:26 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('admin@example.com',)
2024-12-22 12:36:26 - app.db.init_db - INFO - No admin user found. Creating initial admin user...
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.001579s ago] ('admin@example.com',)
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (name, email, status, created_at) VALUES (?, ?, ?, ?)
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('System Admin', 'admin@example.com', 'ACTIVE', '2024-12-22 12:36:26.656393')
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.id = ?
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (1,)
2024-12-22 12:36:26 - app.db.init_db - INFO - Created admin user: System Admin
2024-12-22 12:36:26 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('ADMIN', 1)
2024-12-22 12:36:26 - app.db.init_db - INFO - No admin key found. Creating initial admin API key...
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.name = ? AND api_keys.user_id = ?
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ("System Admin's Admin Key", 1)
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - INSERT INTO api_keys ("key", name, role, created_at, last_used, is_active, user_id) VALUES (?, ?, ?, ?, ?, ?, ?)
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('$2b$12$tPtoSIDWhTgisWfy0YtLLO8PHsBEQREnQnG7j1d3SpndFM7bYRu5q', "System Admin's Admin Key", 'ADMIN', '2024-12-22 12:36:26.948600', None, 1, 1)
2024-12-22 12:36:26 - app.db.init_db - INFO - 

============================================================
INITIAL ADMIN SETUP COMPLETE
------------------------------------------------------------
Admin User:
  Name:  System Admin
  Email: admin@example.com
  ID:    1

Admin API Key:
  Name:  System Admin's Admin Key
  Key:   6KtT0OdiV4Rgt7tO4nsXGHwFHZ15RKJGcFQBxfhMzfg
  Role:  admin
------------------------------------------------------------
IMPORTANT: Save this key - it will not be shown again!
============================================================
2024-12-22 12:36:26 - app.db.init_db - INFO - Initial admin API key created successfully
2024-12-22 12:36:26 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:36:26 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:36:26 - app.db.session - DEBUG - Closing database session
2024-12-22 12:36:26 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:36:29 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:36:29 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:36:29 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ()
2024-12-22 12:36:29 - app.db - DEBUG - Database health check successful
2024-12-22 12:36:29 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:36:29 - app.db.session - DEBUG - Closing database session
2024-12-22 12:36:29 - app.main - DEBUG - Health check details
2024-12-22 12:36:59 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:36:59 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:36:59 - sqlalchemy.engine.Engine - INFO - [cached since 30.06s ago] ()
2024-12-22 12:36:59 - app.db - DEBUG - Database health check successful
2024-12-22 12:36:59 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:36:59 - app.db.session - DEBUG - Closing database session
2024-12-22 12:36:59 - app.main - DEBUG - Health check details
2024-12-22 12:37:29 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:37:29 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:37:29 - sqlalchemy.engine.Engine - INFO - [cached since 60.12s ago] ()
2024-12-22 12:37:29 - app.db - DEBUG - Database health check successful
2024-12-22 12:37:29 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:37:29 - app.db.session - DEBUG - Closing database session
2024-12-22 12:37:29 - app.main - DEBUG - Health check details
2024-12-22 12:37:34 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:37:34 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:37:34 - sqlalchemy.engine.Engine - INFO - [cached since 65s ago] ()
2024-12-22 12:37:34 - app.db - DEBUG - Database health check successful
2024-12-22 12:37:34 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:37:34 - app.db.session - DEBUG - Closing database session
2024-12-22 12:37:34 - app.main - DEBUG - Health check details
2024-12-22 12:37:50 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:37:50 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys JOIN users ON users.id = api_keys.user_id 
WHERE api_keys.is_active = 1 AND users.status = ?
2024-12-22 12:37:50 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('ACTIVE',)
2024-12-22 12:37:50 - sqlalchemy.engine.Engine - INFO - UPDATE api_keys SET last_used=? WHERE api_keys.id = ?
2024-12-22 12:37:50 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('2024-12-22 12:37:50.397504', 1)
2024-12-22 12:37:50 - app.api.v1.endpoints.conversion - INFO - Starting convert_text
2024-12-22 12:37:50 - app.api.conversion - DEBUG - Temporary file created
2024-12-22 12:37:50 - app.api.conversion.performance - INFO - content conversion completed
2024-12-22 12:37:50 - app.api.conversion - INFO - content conversion successful
2024-12-22 12:37:50 - app.api.conversion - DEBUG - Temporary file removed: /tmp/tmp2u0_uz62.html
2024-12-22 12:37:50 - app.api.v1.endpoints.conversion - INFO - Completed convert_text
2024-12-22 12:37:50 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:37:50 - app.db.session - DEBUG - Closing database session
2024-12-22 12:37:59 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:37:59 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:37:59 - sqlalchemy.engine.Engine - INFO - [cached since 90.17s ago] ()
2024-12-22 12:37:59 - app.db - DEBUG - Database health check successful
2024-12-22 12:37:59 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:37:59 - app.db.session - DEBUG - Closing database session
2024-12-22 12:37:59 - app.main - DEBUG - Health check details
2024-12-22 12:38:30 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:38:30 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:38:30 - sqlalchemy.engine.Engine - INFO - [cached since 120.2s ago] ()
2024-12-22 12:38:30 - app.db - DEBUG - Database health check successful
2024-12-22 12:38:30 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:38:30 - app.db.session - DEBUG - Closing database session
2024-12-22 12:38:30 - app.main - DEBUG - Health check details
2024-12-22 12:38:39 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:38:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:38:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:38:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:38:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:38:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:38:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:38:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:38:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:38:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:38:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:38:39 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:38:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:38:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:38:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:38:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:38:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:38:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:38:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:38:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:38:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:38:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:38:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:38:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:38:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:38:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:38:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:38:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:38:39 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:38:39 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:38:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:38:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:38:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:38:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:38:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:38:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:38:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:38:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:38:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:38:39 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users
2024-12-22 12:38:39 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ()
2024-12-22 12:38:39 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 12:38:39 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (1,)
2024-12-22 12:38:39 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:38:39 - app.db.session - DEBUG - Closing database session
2024-12-22 12:39:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:39:00 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:39:00 - sqlalchemy.engine.Engine - INFO - [cached since 150.3s ago] ()
2024-12-22 12:39:00 - app.db - DEBUG - Database health check successful
2024-12-22 12:39:00 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:39:00 - app.db.session - DEBUG - Closing database session
2024-12-22 12:39:00 - app.main - DEBUG - Health check details
2024-12-22 12:39:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:39:02 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:39:02 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('zenia@test.com',)
2024-12-22 12:39:02 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (name, email, status, created_at) VALUES (?, ?, ?, ?)
2024-12-22 12:39:02 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('zenia', 'zenia@test.com', 'ACTIVE', '2024-12-22 12:39:02.752147')
2024-12-22 12:39:02 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:39:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:39:02 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.id = ?
2024-12-22 12:39:02 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (2,)
2024-12-22 12:39:02 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:39:02 - app.db.session - DEBUG - Closing database session
2024-12-22 12:39:13 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:39:13 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 12:39:13 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (1,)
2024-12-22 12:39:13 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 12:39:13 - sqlalchemy.engine.Engine - INFO - [cached since 33.61s ago] (1,)
2024-12-22 12:39:13 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:39:13 - app.db.session - DEBUG - Closing database session
2024-12-22 12:39:19 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:39:19 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 12:39:19 - sqlalchemy.engine.Engine - INFO - [cached since 6.38s ago] (2,)
2024-12-22 12:39:19 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 12:39:19 - sqlalchemy.engine.Engine - INFO - [cached since 39.99s ago] (2,)
2024-12-22 12:39:19 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:39:19 - app.db.session - DEBUG - Closing database session
2024-12-22 12:39:30 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:39:30 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:39:30 - sqlalchemy.engine.Engine - INFO - [cached since 180.3s ago] ()
2024-12-22 12:39:30 - app.db - DEBUG - Database health check successful
2024-12-22 12:39:30 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:39:30 - app.db.session - DEBUG - Closing database session
2024-12-22 12:39:30 - app.main - DEBUG - Health check details
2024-12-22 12:39:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:39:32 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users
2024-12-22 12:39:32 - sqlalchemy.engine.Engine - INFO - [cached since 52.92s ago] ()
2024-12-22 12:39:32 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 12:39:32 - sqlalchemy.engine.Engine - INFO - [cached since 52.92s ago] (1,)
2024-12-22 12:39:32 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 12:39:32 - sqlalchemy.engine.Engine - INFO - [cached since 52.92s ago] (2,)
2024-12-22 12:39:32 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:39:32 - app.db.session - DEBUG - Closing database session
2024-12-22 12:39:43 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:39:43 - app.db.session - ERROR - Database session error, rolling back transaction
Traceback (most recent call last):
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1583, in _db_value_for_elem
    return self._valid_lookup[elem]
           ~~~~~~~~~~~~~~~~~~^^^^^^
KeyError: <typer.models.OptionInfo object at 0x7bee48425bd0>

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1815, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 1476, in _init_compiled
    flattened_processors[key](compiled_params[key])
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1731, in process
    value = self._db_value_for_elem(value)
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1596, in _db_value_for_elem
    raise LookupError(
    ...<7 lines>...
    ) from err
LookupError: '<typer.models.OptionInfo object at 0x7bee48425bd0>' is not among the defined enum values. Enum name: role. Possible values: ADMIN, USER

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/db/session.py", line 35, in get_db_session
    yield session
  File "/app/app/cli/commands/api_key.py", line 68, in list
    api_keys = db.exec(query).all()
               ~~~~~~~^^^^^^^
  File "/opt/venv/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 66, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 305, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1821, in _execute_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str(statement), parameters, None, None
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1815, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 1476, in _init_compiled
    flattened_processors[key](compiled_params[key])
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1731, in process
    value = self._db_value_for_elem(value)
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1596, in _db_value_for_elem
    raise LookupError(
    ...<7 lines>...
    ) from err
sqlalchemy.exc.StatementError: (builtins.LookupError) '<typer.models.OptionInfo object at 0x7bee48425bd0>' is not among the defined enum values. Enum name: role. Possible values: ADMIN, USER
[SQL: SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.is_active = 1 AND api_keys.role = ?]
[parameters: [{}]]
2024-12-22 12:39:43 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2024-12-22 12:39:43 - app.db.session - DEBUG - Closing database session
2024-12-22 12:40:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:40:00 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:40:00 - sqlalchemy.engine.Engine - INFO - [cached since 210.4s ago] ()
2024-12-22 12:40:00 - app.db - DEBUG - Database health check successful
2024-12-22 12:40:00 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:40:00 - app.db.session - DEBUG - Closing database session
2024-12-22 12:40:00 - app.main - DEBUG - Health check details
2024-12-22 12:40:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:40:02 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:40:02 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:40:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:40:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:40:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:40:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:40:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:40:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:40:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:40:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:40:02 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:40:02 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:40:02 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:40:02 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:40:02 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:40:02 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:40:02 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:40:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:40:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:40:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:40:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:40:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:40:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:40:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:40:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:40:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:40:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:40:02 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:40:02 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:40:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:40:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:40:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:40:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:40:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:40:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:40:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:40:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:40:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:40:02 - app.db.session - ERROR - Database session error, rolling back transaction
Traceback (most recent call last):
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1583, in _db_value_for_elem
    return self._valid_lookup[elem]
           ~~~~~~~~~~~~~~~~~~^^^^^^
KeyError: <typer.models.OptionInfo object at 0x7a3ebc055950>

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1815, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 1476, in _init_compiled
    flattened_processors[key](compiled_params[key])
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1731, in process
    value = self._db_value_for_elem(value)
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1596, in _db_value_for_elem
    raise LookupError(
    ...<7 lines>...
    ) from err
LookupError: '<typer.models.OptionInfo object at 0x7a3ebc055950>' is not among the defined enum values. Enum name: role. Possible values: ADMIN, USER

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/db/session.py", line 35, in get_db_session
    yield session
  File "/app/app/cli/commands/api_key.py", line 68, in list
    api_keys = db.exec(query).all()
               ~~~~~~~^^^^^^^
  File "/opt/venv/lib/python3.13/site-packages/sqlmodel/orm/session.py", line 66, in exec
    results = super().execute(
        statement,
    ...<4 lines>...
        _add_event=_add_event,
    )
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py", line 305, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1821, in _execute_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str(statement), parameters, None, None
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1815, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 1476, in _init_compiled
    flattened_processors[key](compiled_params[key])
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1731, in process
    value = self._db_value_for_elem(value)
  File "/opt/venv/lib/python3.13/site-packages/sqlalchemy/sql/sqltypes.py", line 1596, in _db_value_for_elem
    raise LookupError(
    ...<7 lines>...
    ) from err
sqlalchemy.exc.StatementError: (builtins.LookupError) '<typer.models.OptionInfo object at 0x7a3ebc055950>' is not among the defined enum values. Enum name: role. Possible values: ADMIN, USER
[SQL: SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ?]
[parameters: [{}]]
2024-12-22 12:40:02 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2024-12-22 12:40:02 - app.db.session - DEBUG - Closing database session
2024-12-22 12:40:30 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:40:30 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:40:30 - sqlalchemy.engine.Engine - INFO - [cached since 240.5s ago] ()
2024-12-22 12:40:30 - app.db - DEBUG - Database health check successful
2024-12-22 12:40:30 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:40:30 - app.db.session - DEBUG - Closing database session
2024-12-22 12:40:30 - app.main - DEBUG - Health check details
2024-12-22 12:41:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:41:00 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:41:00 - sqlalchemy.engine.Engine - INFO - [cached since 270.5s ago] ()
2024-12-22 12:41:00 - app.db - DEBUG - Database health check successful
2024-12-22 12:41:00 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:41:00 - app.db.session - DEBUG - Closing database session
2024-12-22 12:41:00 - app.main - DEBUG - Health check details
2024-12-22 12:41:30 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:41:30 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:41:30 - sqlalchemy.engine.Engine - INFO - [cached since 300.6s ago] ()
2024-12-22 12:41:30 - app.db - DEBUG - Database health check successful
2024-12-22 12:41:30 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:41:30 - app.db.session - DEBUG - Closing database session
2024-12-22 12:41:30 - app.main - DEBUG - Health check details
2024-12-22 12:42:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:42:00 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:42:00 - sqlalchemy.engine.Engine - INFO - [cached since 330.6s ago] ()
2024-12-22 12:42:00 - app.db - DEBUG - Database health check successful
2024-12-22 12:42:00 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:42:00 - app.db.session - DEBUG - Closing database session
2024-12-22 12:42:00 - app.main - DEBUG - Health check details
2024-12-22 12:42:15 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:42:15 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:42:16 - app.main - INFO - Starting application initialization...
2024-12-22 12:42:16 - app.main - DEBUG - Application configuration:
2024-12-22 12:42:16 - app.main - DEBUG - Environment: development
2024-12-22 12:42:16 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:42:16 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:42:16 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:42:16 - app.main - INFO - Initializing database...
2024-12-22 12:42:16 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:42:16 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:42:16 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:42:16 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:42:16 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:42:16 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:42:16 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:42:16 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:42:16 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:42:16 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:42:16 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:42:16 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:42:16 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:42:16 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:42:16 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:42:16 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:42:16 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:42:16 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:42:16 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:42:16 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:42:16 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:42:16 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:42:16 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:42:16 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:42:16 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:42:16 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:42:16 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:42:16 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:42:16 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:42:16 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:42:16 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:42:16 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:42:16 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:42:16 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:42:16 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:42:16 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:42:16 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:42:16 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:42:16 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:42:16 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:42:16 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:42:16 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:42:16 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:42:16 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:42:16 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:42:16 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:42:16 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:42:16 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:42:16 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:42:16 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('admin@example.com',)
2024-12-22 12:42:16 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 12:42:16 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:42:16 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:42:16 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('ADMIN', 1)
2024-12-22 12:42:16 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 12:42:16 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 12:42:16 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:42:16 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:42:16 - app.db.session - DEBUG - Closing database session
2024-12-22 12:42:16 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:42:30 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:42:30 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:42:30 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ()
2024-12-22 12:42:30 - app.db - DEBUG - Database health check successful
2024-12-22 12:42:30 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:42:30 - app.db.session - DEBUG - Closing database session
2024-12-22 12:42:30 - app.main - DEBUG - Health check details
2024-12-22 12:42:33 - app.db.session - ERROR - Database session error, rolling back transaction
Traceback (most recent call last):
  File "/app/app/db/session.py", line 35, in get_db_session
    yield session
  File "/app/app/cli/commands/api_key.py", line 68, in list
    role_enum = Role[role.upper()]
                     ^^^^^^^^^^
AttributeError: 'OptionInfo' object has no attribute 'upper'
2024-12-22 12:42:33 - app.db.session - DEBUG - Closing database session
2024-12-22 12:43:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:43:00 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:43:00 - sqlalchemy.engine.Engine - INFO - [cached since 30.06s ago] ()
2024-12-22 12:43:00 - app.db - DEBUG - Database health check successful
2024-12-22 12:43:00 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:43:00 - app.db.session - DEBUG - Closing database session
2024-12-22 12:43:00 - app.main - DEBUG - Health check details
2024-12-22 12:43:30 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:43:30 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:43:30 - sqlalchemy.engine.Engine - INFO - [cached since 60.12s ago] ()
2024-12-22 12:43:30 - app.db - DEBUG - Database health check successful
2024-12-22 12:43:30 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:43:30 - app.db.session - DEBUG - Closing database session
2024-12-22 12:43:30 - app.main - DEBUG - Health check details
2024-12-22 12:43:31 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:43:31 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:43:33 - app.main - INFO - Starting application initialization...
2024-12-22 12:43:33 - app.main - DEBUG - Application configuration:
2024-12-22 12:43:33 - app.main - DEBUG - Environment: development
2024-12-22 12:43:33 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:43:33 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:43:33 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:43:33 - app.main - INFO - Initializing database...
2024-12-22 12:43:33 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:43:33 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:43:33 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:43:33 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:43:33 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:43:33 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:43:33 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:43:33 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:43:33 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:43:33 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:43:33 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:43:33 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:43:33 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:43:33 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:43:33 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:43:33 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:43:33 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:43:33 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:43:33 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:43:33 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:43:33 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:43:33 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:43:33 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:43:33 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:43:33 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:43:33 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:43:33 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:43:33 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:43:33 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:43:33 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:43:33 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:43:33 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:43:33 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:43:33 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:43:33 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:43:33 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:43:33 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:43:33 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:43:33 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:43:33 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:43:33 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:43:33 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:43:33 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:43:33 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:43:33 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:43:33 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:43:33 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:43:33 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:43:33 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:43:33 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('admin@example.com',)
2024-12-22 12:43:33 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 12:43:33 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:43:33 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:43:33 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('ADMIN', 1)
2024-12-22 12:43:33 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 12:43:33 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 12:43:33 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:43:33 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:43:33 - app.db.session - DEBUG - Closing database session
2024-12-22 12:43:33 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:43:43 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:43:43 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:43:43 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:43:43 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:43:43 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:43:43 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:43:43 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:43:43 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:43:43 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:43:43 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:43:43 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:43:43 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:43:43 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:43:43 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:43:43 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:43:43 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:43:43 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:43:43 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:43:43 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:43:43 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:43:43 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:43:43 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:43:43 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:43:43 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:43:43 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:43:43 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:43:43 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:43:43 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:43:43 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:43:43 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:43:43 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:43:43 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:43:43 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:43:43 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:43:43 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:43:43 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:43:43 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:43:43 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:43:43 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:43:43 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys
2024-12-22 12:43:43 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ()
2024-12-22 12:43:43 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:43:43 - app.db.session - DEBUG - Closing database session
2024-12-22 12:44:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:44:00 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:44:00 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ()
2024-12-22 12:44:00 - app.db - DEBUG - Database health check successful
2024-12-22 12:44:00 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:44:00 - app.db.session - DEBUG - Closing database session
2024-12-22 12:44:00 - app.main - DEBUG - Health check details
2024-12-22 12:44:10 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:44:10 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.status = ?
2024-12-22 12:44:10 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('ACTIVE',)
2024-12-22 12:44:10 - app.db.session - ERROR - Database session error, rolling back transaction
Traceback (most recent call last):
  File "/app/app/db/session.py", line 35, in get_db_session
    yield session
  File "/app/app/cli/commands/user.py", line 66, in list
    if format.lower() == "json":
       ^^^^^^^^^^^^
AttributeError: 'OptionInfo' object has no attribute 'lower'
2024-12-22 12:44:10 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2024-12-22 12:44:10 - app.db.session - DEBUG - Closing database session
2024-12-22 12:44:30 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:44:30 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 30.06s ago] ()
2024-12-22 12:44:30 - app.db - DEBUG - Database health check successful
2024-12-22 12:44:30 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:44:30 - app.db.session - DEBUG - Closing database session
2024-12-22 12:44:30 - app.main - DEBUG - Health check details
2024-12-22 12:45:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:45:00 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:45:00 - sqlalchemy.engine.Engine - INFO - [cached since 60.13s ago] ()
2024-12-22 12:45:00 - app.db - DEBUG - Database health check successful
2024-12-22 12:45:00 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:45:00 - app.db.session - DEBUG - Closing database session
2024-12-22 12:45:00 - app.main - DEBUG - Health check details
2024-12-22 12:45:30 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:45:30 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:45:30 - sqlalchemy.engine.Engine - INFO - [cached since 90.19s ago] ()
2024-12-22 12:45:30 - app.db - DEBUG - Database health check successful
2024-12-22 12:45:30 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:45:30 - app.db.session - DEBUG - Closing database session
2024-12-22 12:45:30 - app.main - DEBUG - Health check details
2024-12-22 12:45:43 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:45:43 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:45:44 - app.main - INFO - Starting application initialization...
2024-12-22 12:45:44 - app.main - DEBUG - Application configuration:
2024-12-22 12:45:44 - app.main - DEBUG - Environment: development
2024-12-22 12:45:44 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:45:44 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:45:44 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:45:44 - app.main - INFO - Initializing database...
2024-12-22 12:45:44 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:45:44 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:45:44 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:45:44 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:45:44 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:45:44 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:45:44 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:45:44 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:45:44 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:45:44 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:45:44 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:45:44 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:45:44 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:45:44 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:45:44 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:45:44 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:45:44 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:45:44 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:45:44 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:45:44 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:45:44 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:45:44 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:45:44 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:45:44 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:45:44 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:45:44 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:45:44 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:45:44 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:45:44 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:45:44 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:45:44 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:45:44 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:45:44 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:45:44 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:45:44 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:45:44 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:45:44 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:45:44 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:45:44 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:45:44 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:45:44 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:45:44 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:45:44 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:45:44 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:45:44 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:45:44 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:45:44 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:45:44 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:45:44 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:45:44 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('admin@example.com',)
2024-12-22 12:45:44 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 12:45:44 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:45:44 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:45:44 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('ADMIN', 1)
2024-12-22 12:45:44 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 12:45:44 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 12:45:44 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:45:44 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:45:44 - app.db.session - DEBUG - Closing database session
2024-12-22 12:45:44 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:46:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:46:00 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:46:00 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ()
2024-12-22 12:46:00 - app.db - DEBUG - Database health check successful
2024-12-22 12:46:00 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:46:00 - app.db.session - DEBUG - Closing database session
2024-12-22 12:46:00 - app.main - DEBUG - Health check details
2024-12-22 12:46:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:46:31 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:46:31 - sqlalchemy.engine.Engine - INFO - [cached since 30.06s ago] ()
2024-12-22 12:46:31 - app.db - DEBUG - Database health check successful
2024-12-22 12:46:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:46:31 - app.db.session - DEBUG - Closing database session
2024-12-22 12:46:31 - app.main - DEBUG - Health check details
2024-12-22 12:47:01 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:47:01 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:47:01 - sqlalchemy.engine.Engine - INFO - [cached since 60.11s ago] ()
2024-12-22 12:47:01 - app.db - DEBUG - Database health check successful
2024-12-22 12:47:01 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:47:01 - app.db.session - DEBUG - Closing database session
2024-12-22 12:47:01 - app.main - DEBUG - Health check details
2024-12-22 12:47:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:47:31 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:47:31 - sqlalchemy.engine.Engine - INFO - [cached since 90.17s ago] ()
2024-12-22 12:47:31 - app.db - DEBUG - Database health check successful
2024-12-22 12:47:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:47:31 - app.db.session - DEBUG - Closing database session
2024-12-22 12:47:31 - app.main - DEBUG - Health check details
2024-12-22 12:47:34 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:47:34 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:47:35 - app.main - INFO - Starting application initialization...
2024-12-22 12:47:35 - app.main - DEBUG - Application configuration:
2024-12-22 12:47:35 - app.main - DEBUG - Environment: development
2024-12-22 12:47:35 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:47:35 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:47:35 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:47:35 - app.main - INFO - Initializing database...
2024-12-22 12:47:35 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:47:35 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:47:35 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:47:35 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:47:35 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:47:35 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:47:35 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:47:35 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:47:35 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:47:35 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:47:35 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:47:35 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:47:35 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:47:35 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:47:35 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:47:35 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:47:35 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:47:35 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:47:35 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:47:35 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:47:35 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:47:35 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:47:35 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:47:35 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:47:35 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:47:35 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:47:35 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:47:35 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:47:35 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:47:35 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:47:35 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:47:35 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:47:35 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:47:35 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:47:35 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:47:35 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:47:35 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:47:35 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:47:35 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:47:35 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:47:35 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:47:35 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:47:35 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:47:35 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:47:35 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:47:35 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:47:35 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:47:35 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:47:35 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:47:35 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('admin@example.com',)
2024-12-22 12:47:35 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 12:47:35 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:47:35 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:47:35 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('ADMIN', 1)
2024-12-22 12:47:35 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 12:47:35 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 12:47:35 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:47:35 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:47:35 - app.db.session - DEBUG - Closing database session
2024-12-22 12:47:35 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:47:43 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:47:43 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:47:45 - app.main - INFO - Starting application initialization...
2024-12-22 12:47:45 - app.main - DEBUG - Application configuration:
2024-12-22 12:47:45 - app.main - DEBUG - Environment: development
2024-12-22 12:47:45 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:47:45 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:47:45 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:47:45 - app.main - INFO - Initializing database...
2024-12-22 12:47:45 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:47:45 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:47:45 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:47:45 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:47:45 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:47:45 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:47:45 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:47:45 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:47:45 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:47:45 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:47:45 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:47:45 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:47:45 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:47:45 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:47:45 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:47:45 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:47:45 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:47:45 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:47:45 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:47:45 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:47:45 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:47:45 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:47:45 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:47:45 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:47:45 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:47:45 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:47:45 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:47:45 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:47:45 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:47:45 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:47:45 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:47:45 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:47:45 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:47:45 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:47:45 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:47:45 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:47:45 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:47:45 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:47:45 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:47:45 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:47:45 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:47:45 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:47:45 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:47:45 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:47:45 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:47:45 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:47:45 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:47:45 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:47:45 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:47:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('admin@example.com',)
2024-12-22 12:47:45 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 12:47:45 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:47:45 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:47:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('ADMIN', 1)
2024-12-22 12:47:45 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 12:47:45 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 12:47:45 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:47:45 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:47:45 - app.db.session - DEBUG - Closing database session
2024-12-22 12:47:45 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:47:51 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:47:51 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:47:53 - app.main - INFO - Starting application initialization...
2024-12-22 12:47:53 - app.main - DEBUG - Application configuration:
2024-12-22 12:47:53 - app.main - DEBUG - Environment: development
2024-12-22 12:47:53 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:47:53 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:47:53 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:47:53 - app.main - INFO - Initializing database...
2024-12-22 12:47:53 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:47:53 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:47:53 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:47:53 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:47:53 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:47:53 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:47:53 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:47:53 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:47:53 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:47:53 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:47:53 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:47:53 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:47:53 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:47:53 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:47:53 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:47:53 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:47:53 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:47:53 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:47:53 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:47:53 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:47:53 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:47:53 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:47:53 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:47:53 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:47:53 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:47:53 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:47:53 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:47:53 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:47:53 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:47:53 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:47:53 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:47:53 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:47:53 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:47:53 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:47:53 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:47:53 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:47:53 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:47:53 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:47:53 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:47:53 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:47:53 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:47:53 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:47:53 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:47:53 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:47:53 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:47:53 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:47:53 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:47:53 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:47:53 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:47:53 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('admin@example.com',)
2024-12-22 12:47:53 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 12:47:53 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:47:53 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:47:53 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('ADMIN', 1)
2024-12-22 12:47:53 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 12:47:53 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 12:47:53 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:47:53 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:47:53 - app.db.session - DEBUG - Closing database session
2024-12-22 12:47:53 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:48:01 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:48:01 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:48:01 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ()
2024-12-22 12:48:01 - app.db - DEBUG - Database health check successful
2024-12-22 12:48:01 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:48:01 - app.db.session - DEBUG - Closing database session
2024-12-22 12:48:01 - app.main - DEBUG - Health check details
2024-12-22 12:48:10 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:48:10 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:48:12 - app.main - INFO - Starting application initialization...
2024-12-22 12:48:12 - app.main - DEBUG - Application configuration:
2024-12-22 12:48:12 - app.main - DEBUG - Environment: development
2024-12-22 12:48:12 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:48:12 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:48:12 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:48:12 - app.main - INFO - Initializing database...
2024-12-22 12:48:12 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:48:12 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:48:12 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:48:12 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:48:12 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:48:12 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:48:12 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:48:12 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:48:12 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:48:12 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:48:12 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:48:12 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:48:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:48:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:48:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:48:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:48:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:48:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:48:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:48:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:48:12 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:48:12 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:48:12 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:48:12 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:48:12 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:48:12 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:48:12 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:48:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:48:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:48:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:48:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:48:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:48:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:48:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:48:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:48:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:48:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:48:12 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:48:12 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:48:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:48:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:48:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:48:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:48:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:48:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:48:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:48:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:48:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:48:12 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:48:12 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('admin@example.com',)
2024-12-22 12:48:12 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 12:48:12 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:48:12 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:48:12 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('ADMIN', 1)
2024-12-22 12:48:12 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 12:48:12 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 12:48:12 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:48:12 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:48:12 - app.db.session - DEBUG - Closing database session
2024-12-22 12:48:12 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:48:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:48:31 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:48:31 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ()
2024-12-22 12:48:31 - app.db - DEBUG - Database health check successful
2024-12-22 12:48:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:48:31 - app.db.session - DEBUG - Closing database session
2024-12-22 12:48:31 - app.main - DEBUG - Health check details
2024-12-22 12:48:40 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:48:40 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:48:42 - app.main - INFO - Starting application initialization...
2024-12-22 12:48:42 - app.main - DEBUG - Application configuration:
2024-12-22 12:48:42 - app.main - DEBUG - Environment: development
2024-12-22 12:48:42 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:48:42 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:48:42 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:48:42 - app.main - INFO - Initializing database...
2024-12-22 12:48:42 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:48:42 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:48:42 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:48:42 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:48:42 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:48:42 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:48:42 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:48:42 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:48:42 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:48:42 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:48:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:48:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:48:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:48:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:48:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:48:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:48:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:48:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:48:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:48:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:48:42 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:48:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:48:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:48:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:48:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:48:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:48:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:48:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:48:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:48:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:48:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:48:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:48:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:48:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:48:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:48:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:48:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:48:42 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:48:42 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:48:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:48:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:48:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:48:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:48:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:48:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:48:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:48:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:48:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:48:42 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:48:42 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('admin@example.com',)
2024-12-22 12:48:42 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 12:48:42 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:48:42 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:48:42 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('ADMIN', 1)
2024-12-22 12:48:42 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 12:48:42 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 12:48:42 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:48:42 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:48:42 - app.db.session - DEBUG - Closing database session
2024-12-22 12:48:42 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:49:01 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:49:01 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:49:01 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ()
2024-12-22 12:49:01 - app.db - DEBUG - Database health check successful
2024-12-22 12:49:01 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:49:01 - app.db.session - DEBUG - Closing database session
2024-12-22 12:49:01 - app.main - DEBUG - Health check details
2024-12-22 12:49:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:49:31 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:49:31 - sqlalchemy.engine.Engine - INFO - [cached since 30.06s ago] ()
2024-12-22 12:49:31 - app.db - DEBUG - Database health check successful
2024-12-22 12:49:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:49:31 - app.db.session - DEBUG - Closing database session
2024-12-22 12:49:31 - app.main - DEBUG - Health check details
2024-12-22 12:50:01 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:50:01 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:50:01 - sqlalchemy.engine.Engine - INFO - [cached since 60.12s ago] ()
2024-12-22 12:50:01 - app.db - DEBUG - Database health check successful
2024-12-22 12:50:01 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:50:01 - app.db.session - DEBUG - Closing database session
2024-12-22 12:50:01 - app.main - DEBUG - Health check details
2024-12-22 12:50:04 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:50:04 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:50:06 - app.main - INFO - Starting application initialization...
2024-12-22 12:50:06 - app.main - DEBUG - Application configuration:
2024-12-22 12:50:06 - app.main - DEBUG - Environment: development
2024-12-22 12:50:06 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:50:06 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:50:06 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:50:06 - app.main - INFO - Initializing database...
2024-12-22 12:50:06 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:50:06 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:50:06 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:50:06 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:50:06 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:50:06 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:50:06 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:50:06 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:50:06 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:50:06 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:50:06 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:50:06 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:50:06 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:50:06 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:50:06 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:50:06 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:50:06 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:50:06 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:50:06 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:50:06 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:50:06 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:50:06 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:50:06 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:50:06 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:50:06 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:50:06 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:50:06 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:50:06 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:50:06 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:50:06 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:50:06 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:50:06 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:50:06 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:50:06 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:50:06 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:50:06 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:50:06 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:50:06 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:50:06 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:50:06 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:50:06 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:50:06 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:50:06 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:50:06 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:50:06 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:50:06 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:50:06 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:50:06 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:50:06 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:50:06 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('admin@example.com',)
2024-12-22 12:50:06 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 12:50:06 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:50:06 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:50:06 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('ADMIN', 1)
2024-12-22 12:50:06 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 12:50:06 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 12:50:06 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:50:06 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:50:06 - app.db.session - DEBUG - Closing database session
2024-12-22 12:50:06 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:50:23 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:50:23 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:50:25 - app.main - INFO - Starting application initialization...
2024-12-22 12:50:25 - app.main - DEBUG - Application configuration:
2024-12-22 12:50:25 - app.main - DEBUG - Environment: development
2024-12-22 12:50:25 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:50:25 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:50:25 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:50:25 - app.main - INFO - Initializing database...
2024-12-22 12:50:25 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:50:25 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:50:25 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:50:25 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:50:25 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:50:25 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:50:25 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:50:25 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:50:25 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:50:25 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:50:25 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:50:25 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:50:25 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:50:25 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:50:25 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:50:25 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:50:25 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:50:25 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:50:25 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:50:25 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:50:25 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:50:25 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:50:25 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:50:25 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:50:25 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:50:25 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:50:25 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:50:25 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:50:25 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:50:25 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:50:25 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:50:25 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:50:25 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:50:25 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:50:25 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:50:25 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:50:25 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:50:25 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:50:25 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:50:25 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:50:25 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:50:25 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:50:25 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:50:25 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:50:25 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:50:25 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:50:25 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:50:25 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:50:25 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:50:25 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('admin@example.com',)
2024-12-22 12:50:25 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 12:50:25 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:50:25 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:50:25 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('ADMIN', 1)
2024-12-22 12:50:25 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 12:50:25 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 12:50:25 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:50:25 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:50:25 - app.db.session - DEBUG - Closing database session
2024-12-22 12:50:25 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:50:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:50:31 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:50:31 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2024-12-22 12:50:31 - app.db - DEBUG - Database health check successful
2024-12-22 12:50:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:50:31 - app.db.session - DEBUG - Closing database session
2024-12-22 12:50:31 - app.main - DEBUG - Health check details
2024-12-22 12:50:35 - app.db.session - ERROR - Database session error, rolling back transaction
Traceback (most recent call last):
  File "/app/app/db/session.py", line 35, in get_db_session
    yield session
  File "/app/app/cli/interactive.py", line 156, in create_key_menu
    query = select(User).where(User.status == UserStatus.ACTIVE)
                   ^^^^
NameError: name 'User' is not defined
2024-12-22 12:50:35 - app.db.session - DEBUG - Closing database session
2024-12-22 12:51:01 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:51:01 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:51:01 - sqlalchemy.engine.Engine - INFO - [cached since 30.05s ago] ()
2024-12-22 12:51:01 - app.db - DEBUG - Database health check successful
2024-12-22 12:51:01 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:51:01 - app.db.session - DEBUG - Closing database session
2024-12-22 12:51:01 - app.main - DEBUG - Health check details
2024-12-22 12:51:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:51:31 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:51:31 - sqlalchemy.engine.Engine - INFO - [cached since 60.12s ago] ()
2024-12-22 12:51:31 - app.db - DEBUG - Database health check successful
2024-12-22 12:51:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:51:31 - app.db.session - DEBUG - Closing database session
2024-12-22 12:51:31 - app.main - DEBUG - Health check details
2024-12-22 12:52:01 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:52:01 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:52:01 - sqlalchemy.engine.Engine - INFO - [cached since 90.18s ago] ()
2024-12-22 12:52:01 - app.db - DEBUG - Database health check successful
2024-12-22 12:52:01 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:52:01 - app.db.session - DEBUG - Closing database session
2024-12-22 12:52:01 - app.main - DEBUG - Health check details
2024-12-22 12:52:11 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:52:11 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:52:13 - app.main - INFO - Starting application initialization...
2024-12-22 12:52:13 - app.main - DEBUG - Application configuration:
2024-12-22 12:52:13 - app.main - DEBUG - Environment: development
2024-12-22 12:52:13 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:52:13 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:52:13 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:52:13 - app.main - INFO - Initializing database...
2024-12-22 12:52:13 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:52:13 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:52:13 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:52:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:52:13 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:52:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:52:13 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:52:13 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:52:13 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:52:13 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:52:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:52:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:52:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:52:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:52:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:52:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:52:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:52:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:52:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:52:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:52:13 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:52:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:52:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:52:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:52:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:52:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:52:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:52:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:52:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:52:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:52:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:52:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:52:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:52:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:52:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:52:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:52:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:52:13 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:52:13 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:52:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:52:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:52:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:52:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:52:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:52:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:52:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:52:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:52:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:52:13 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:52:13 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('admin@example.com',)
2024-12-22 12:52:13 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 12:52:13 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:52:13 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:52:13 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('ADMIN', 1)
2024-12-22 12:52:13 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 12:52:13 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 12:52:13 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:52:13 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:52:13 - app.db.session - DEBUG - Closing database session
2024-12-22 12:52:13 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:52:27 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:52:27 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:52:28 - app.main - INFO - Starting application initialization...
2024-12-22 12:52:28 - app.main - DEBUG - Application configuration:
2024-12-22 12:52:28 - app.main - DEBUG - Environment: development
2024-12-22 12:52:28 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:52:28 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:52:28 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:52:28 - app.main - INFO - Initializing database...
2024-12-22 12:52:28 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:52:28 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:52:28 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:52:28 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:52:28 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:52:28 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:52:28 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:52:28 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:52:28 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:52:28 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:52:28 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:52:28 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:52:28 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:52:28 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:52:28 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:52:28 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:52:28 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:52:28 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:52:28 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:52:28 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:52:28 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:52:28 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:52:28 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:52:28 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:52:28 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:52:28 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:52:28 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:52:28 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:52:28 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:52:28 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:52:28 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:52:28 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:52:28 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:52:28 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:52:28 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:52:28 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:52:28 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:52:28 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:52:28 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:52:28 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:52:28 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:52:28 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:52:28 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:52:28 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:52:28 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:52:28 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:52:28 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:52:28 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:52:28 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:52:28 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('admin@example.com',)
2024-12-22 12:52:28 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 12:52:28 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:52:28 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:52:28 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('ADMIN', 1)
2024-12-22 12:52:28 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 12:52:28 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 12:52:28 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:52:28 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:52:28 - app.db.session - DEBUG - Closing database session
2024-12-22 12:52:28 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:52:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:52:31 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:52:31 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ()
2024-12-22 12:52:31 - app.db - DEBUG - Database health check successful
2024-12-22 12:52:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:52:31 - app.db.session - DEBUG - Closing database session
2024-12-22 12:52:31 - app.main - DEBUG - Health check details
2024-12-22 12:52:37 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:52:37 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:52:37 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:52:37 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:52:37 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:52:37 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:52:37 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:52:37 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:52:37 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:52:37 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:52:37 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:52:37 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:52:37 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:52:37 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:52:37 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:52:37 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:52:37 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:52:37 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:52:37 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:52:37 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:52:37 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:52:37 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:52:37 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:52:37 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:52:37 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:52:37 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:52:37 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:52:37 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:52:37 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:52:37 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:52:37 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:52:37 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:52:37 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:52:37 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:52:37 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:52:37 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:52:37 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:52:37 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:52:37 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:52:37 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.status = ?
2024-12-22 12:52:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('ACTIVE',)
2024-12-22 12:52:37 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:52:37 - app.db.session - DEBUG - Closing database session
2024-12-22 12:53:01 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:53:01 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:53:01 - sqlalchemy.engine.Engine - INFO - [cached since 30.06s ago] ()
2024-12-22 12:53:01 - app.db - DEBUG - Database health check successful
2024-12-22 12:53:01 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:53:01 - app.db.session - DEBUG - Closing database session
2024-12-22 12:53:01 - app.main - DEBUG - Health check details
2024-12-22 12:53:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:53:31 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:53:31 - sqlalchemy.engine.Engine - INFO - [cached since 60.12s ago] ()
2024-12-22 12:53:31 - app.db - DEBUG - Database health check successful
2024-12-22 12:53:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:53:31 - app.db.session - DEBUG - Closing database session
2024-12-22 12:53:31 - app.main - DEBUG - Health check details
2024-12-22 12:53:57 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:53:57 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:53:59 - app.main - INFO - Starting application initialization...
2024-12-22 12:53:59 - app.main - DEBUG - Application configuration:
2024-12-22 12:53:59 - app.main - DEBUG - Environment: development
2024-12-22 12:53:59 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:53:59 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:53:59 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:53:59 - app.main - INFO - Initializing database...
2024-12-22 12:53:59 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:53:59 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:53:59 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:53:59 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:53:59 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:53:59 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:53:59 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:53:59 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:53:59 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:53:59 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:53:59 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:53:59 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:53:59 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:53:59 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:53:59 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:53:59 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:53:59 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:53:59 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:53:59 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:53:59 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:53:59 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:53:59 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:53:59 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:53:59 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:53:59 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:53:59 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:53:59 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:53:59 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:53:59 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:53:59 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:53:59 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:53:59 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:53:59 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:53:59 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:53:59 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:53:59 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:53:59 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:53:59 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:53:59 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:53:59 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:53:59 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:53:59 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:53:59 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:53:59 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:53:59 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:53:59 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:53:59 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:53:59 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:53:59 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:53:59 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('admin@example.com',)
2024-12-22 12:53:59 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 12:53:59 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:53:59 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:53:59 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('ADMIN', 1)
2024-12-22 12:53:59 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 12:53:59 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 12:53:59 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:53:59 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:53:59 - app.db.session - DEBUG - Closing database session
2024-12-22 12:53:59 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:54:01 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:54:01 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:54:01 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ()
2024-12-22 12:54:01 - app.db - DEBUG - Database health check successful
2024-12-22 12:54:01 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:54:01 - app.db.session - DEBUG - Closing database session
2024-12-22 12:54:01 - app.main - DEBUG - Health check details
2024-12-22 12:54:15 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:54:15 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:54:17 - app.main - INFO - Starting application initialization...
2024-12-22 12:54:17 - app.main - DEBUG - Application configuration:
2024-12-22 12:54:17 - app.main - DEBUG - Environment: development
2024-12-22 12:54:17 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:54:17 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:54:17 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:54:17 - app.main - INFO - Initializing database...
2024-12-22 12:54:17 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:54:17 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:54:17 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:54:17 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:54:17 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:54:17 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:54:17 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:54:17 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:54:17 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:54:17 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:54:17 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:54:17 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:54:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:54:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:54:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:54:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:54:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:54:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:54:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:54:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:54:17 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:54:17 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:54:17 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:54:17 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:54:17 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:54:17 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:54:17 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:54:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:54:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:54:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:54:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:54:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:54:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:54:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:54:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:54:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:54:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:54:17 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:54:17 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:54:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:54:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:54:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:54:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:54:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:54:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:54:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:54:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:54:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:54:17 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:54:17 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('admin@example.com',)
2024-12-22 12:54:17 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 12:54:17 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:54:17 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:54:17 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('ADMIN', 1)
2024-12-22 12:54:17 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 12:54:17 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 12:54:17 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:54:17 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:54:17 - app.db.session - DEBUG - Closing database session
2024-12-22 12:54:17 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:54:24 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:54:24 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:54:24 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:54:24 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:54:24 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:54:24 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:54:24 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:54:24 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:54:24 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:54:24 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:54:24 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:54:24 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:54:24 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:54:24 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:54:24 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:54:24 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:54:24 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:54:24 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:54:24 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:54:24 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:54:24 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:54:24 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:54:24 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:54:24 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:54:24 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:54:24 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:54:24 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:54:24 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:54:24 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:54:24 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:54:24 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:54:24 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:54:24 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:54:24 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:54:24 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:54:24 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:54:24 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:54:24 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:54:24 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:54:24 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.status = ?
2024-12-22 12:54:24 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('ACTIVE',)
2024-12-22 12:54:24 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:54:24 - app.db.session - DEBUG - Closing database session
2024-12-22 12:54:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:54:32 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:54:32 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ()
2024-12-22 12:54:32 - app.db - DEBUG - Database health check successful
2024-12-22 12:54:32 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:54:32 - app.db.session - DEBUG - Closing database session
2024-12-22 12:54:32 - app.main - DEBUG - Health check details
2024-12-22 12:54:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:54:32 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 12:54:32 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (2,)
2024-12-22 12:54:32 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.name = ? AND api_keys.user_id = ?
2024-12-22 12:54:32 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('test', 2)
2024-12-22 12:54:32 - sqlalchemy.engine.Engine - INFO - INSERT INTO api_keys ("key", name, role, created_at, last_used, is_active, user_id) VALUES (?, ?, ?, ?, ?, ?, ?)
2024-12-22 12:54:32 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('$2b$12$VWhHEe6l6O.PpoXa2YMArODQkuI7XLeLVn6H1.n5tTe/5oQZTuLJ2', 'test', 'USER', '2024-12-22 12:54:32.834681', None, 1, 2)
2024-12-22 12:54:32 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:54:32 - app.db.session - DEBUG - Closing database session
2024-12-22 12:55:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:55:02 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:55:02 - sqlalchemy.engine.Engine - INFO - [cached since 30.06s ago] ()
2024-12-22 12:55:02 - app.db - DEBUG - Database health check successful
2024-12-22 12:55:02 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:55:02 - app.db.session - DEBUG - Closing database session
2024-12-22 12:55:02 - app.main - DEBUG - Health check details
2024-12-22 12:55:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:55:32 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 60.12s ago] ()
2024-12-22 12:55:32 - app.db - DEBUG - Database health check successful
2024-12-22 12:55:32 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:55:32 - app.db.session - DEBUG - Closing database session
2024-12-22 12:55:32 - app.main - DEBUG - Health check details
2024-12-22 12:56:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:56:02 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:56:02 - sqlalchemy.engine.Engine - INFO - [cached since 90.18s ago] ()
2024-12-22 12:56:02 - app.db - DEBUG - Database health check successful
2024-12-22 12:56:02 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:56:02 - app.db.session - DEBUG - Closing database session
2024-12-22 12:56:02 - app.main - DEBUG - Health check details
2024-12-22 12:56:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:56:32 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:56:32 - sqlalchemy.engine.Engine - INFO - [cached since 120.2s ago] ()
2024-12-22 12:56:32 - app.db - DEBUG - Database health check successful
2024-12-22 12:56:32 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:56:32 - app.db.session - DEBUG - Closing database session
2024-12-22 12:56:32 - app.main - DEBUG - Health check details
2024-12-22 12:56:58 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:56:58 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:57:00 - app.main - INFO - Starting application initialization...
2024-12-22 12:57:00 - app.main - DEBUG - Application configuration:
2024-12-22 12:57:00 - app.main - DEBUG - Environment: development
2024-12-22 12:57:00 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:57:00 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:57:00 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:57:00 - app.main - INFO - Initializing database...
2024-12-22 12:57:00 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:57:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:57:00 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:57:00 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:57:00 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:57:00 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:57:00 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:57:00 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:57:00 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:57:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:57:00 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:57:00 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:57:00 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:57:00 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:57:00 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:57:00 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:57:00 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:57:00 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:57:00 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:57:00 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:57:00 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:57:00 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:57:00 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:57:00 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:57:00 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:57:00 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:57:00 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:57:00 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:57:00 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:57:00 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:57:00 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:57:00 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:57:00 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:57:00 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:57:00 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:57:00 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:57:00 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:57:00 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:57:00 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:57:00 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:57:00 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:57:00 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:57:00 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:57:00 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:57:00 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:57:00 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:57:00 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:57:00 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:57:00 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:57:00 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('admin@example.com',)
2024-12-22 12:57:00 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 12:57:00 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:57:00 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:57:00 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('ADMIN', 1)
2024-12-22 12:57:00 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 12:57:00 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 12:57:00 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:57:00 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:57:00 - app.db.session - DEBUG - Closing database session
2024-12-22 12:57:00 - app.main - INFO - Application started successfully in development mode
2024-12-22 12:57:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:57:02 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:57:02 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ()
2024-12-22 12:57:02 - app.db - DEBUG - Database health check successful
2024-12-22 12:57:02 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:57:02 - app.db.session - DEBUG - Closing database session
2024-12-22 12:57:02 - app.main - DEBUG - Health check details
2024-12-22 12:57:10 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:57:10 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:57:10 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:57:10 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:57:10 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:57:10 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:57:10 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:57:10 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:57:10 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:57:10 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:57:10 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:57:10 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:57:10 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:57:10 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:57:10 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:57:10 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:57:10 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:57:10 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:57:10 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:57:10 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:57:10 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:57:10 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:57:10 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:57:10 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:57:10 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:57:10 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:57:10 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:57:10 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:57:10 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:57:10 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:57:10 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:57:10 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:57:10 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:57:10 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:57:10 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:57:10 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:57:10 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:57:10 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:57:10 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:57:10 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users
2024-12-22 12:57:10 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ()
2024-12-22 12:57:10 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 12:57:10 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (1,)
2024-12-22 12:57:10 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 12:57:10 - sqlalchemy.engine.Engine - INFO - [cached since 0.001168s ago] (2,)
2024-12-22 12:57:10 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:57:10 - app.db.session - DEBUG - Closing database session
2024-12-22 12:57:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:57:32 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:57:32 - sqlalchemy.engine.Engine - INFO - [cached since 30.06s ago] ()
2024-12-22 12:57:32 - app.db - DEBUG - Database health check successful
2024-12-22 12:57:32 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:57:32 - app.db.session - DEBUG - Closing database session
2024-12-22 12:57:32 - app.main - DEBUG - Health check details
2024-12-22 12:58:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:58:02 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:58:02 - sqlalchemy.engine.Engine - INFO - [cached since 60.12s ago] ()
2024-12-22 12:58:02 - app.db - DEBUG - Database health check successful
2024-12-22 12:58:02 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:58:02 - app.db.session - DEBUG - Closing database session
2024-12-22 12:58:02 - app.main - DEBUG - Health check details
2024-12-22 12:58:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:58:32 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:58:32 - sqlalchemy.engine.Engine - INFO - [cached since 90.18s ago] ()
2024-12-22 12:58:32 - app.db - DEBUG - Database health check successful
2024-12-22 12:58:32 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:58:32 - app.db.session - DEBUG - Closing database session
2024-12-22 12:58:32 - app.main - DEBUG - Health check details
2024-12-22 12:59:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:59:02 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:59:02 - sqlalchemy.engine.Engine - INFO - [cached since 120.2s ago] ()
2024-12-22 12:59:02 - app.db - DEBUG - Database health check successful
2024-12-22 12:59:02 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:59:02 - app.db.session - DEBUG - Closing database session
2024-12-22 12:59:02 - app.main - DEBUG - Health check details
2024-12-22 12:59:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:59:32 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 12:59:32 - sqlalchemy.engine.Engine - INFO - [cached since 150.3s ago] ()
2024-12-22 12:59:32 - app.db - DEBUG - Database health check successful
2024-12-22 12:59:32 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:59:32 - app.db.session - DEBUG - Closing database session
2024-12-22 12:59:32 - app.main - DEBUG - Health check details
2024-12-22 12:59:37 - app.main - INFO - Initiating application shutdown...
2024-12-22 12:59:37 - app.main - INFO - Application shutdown completed successfully
2024-12-22 12:59:38 - app.main - INFO - Starting application initialization...
2024-12-22 12:59:38 - app.main - DEBUG - Application configuration:
2024-12-22 12:59:38 - app.main - DEBUG - Environment: development
2024-12-22 12:59:38 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 12:59:38 - app.main - DEBUG - API Key Auth: True
2024-12-22 12:59:38 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 12:59:38 - app.main - INFO - Initializing database...
2024-12-22 12:59:38 - app.db.init_db - INFO - Creating database tables...
2024-12-22 12:59:38 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:59:38 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 12:59:38 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:59:38 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 12:59:38 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 12:59:38 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:59:38 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 12:59:38 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 12:59:38 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 12:59:38 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 12:59:38 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 12:59:38 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 12:59:38 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 12:59:38 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:59:38 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 12:59:38 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 12:59:38 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 12:59:38 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 12:59:38 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 12:59:38 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 12:59:38 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 12:59:38 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 12:59:38 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 12:59:38 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 12:59:38 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 12:59:38 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 12:59:38 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 12:59:38 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 12:59:38 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 12:59:38 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 12:59:38 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 12:59:38 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 12:59:38 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 12:59:38 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 12:59:38 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 12:59:38 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 12:59:38 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 12:59:38 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 12:59:38 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 12:59:38 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 12:59:38 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 12:59:38 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 12:59:38 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 12:59:38 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 12:59:38 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 12:59:38 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 12:59:38 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 12:59:38 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 12:59:38 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('admin@example.com',)
2024-12-22 12:59:38 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 12:59:38 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 12:59:38 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 12:59:38 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('ADMIN', 1)
2024-12-22 12:59:38 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 12:59:38 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 12:59:38 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 12:59:38 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 12:59:38 - app.db.session - DEBUG - Closing database session
2024-12-22 12:59:38 - app.main - INFO - Application started successfully in development mode
2024-12-22 13:00:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:00:02 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:00:02 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:00:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:00:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:00:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:00:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:00:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:00:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:00:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:00:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:00:02 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:00:02 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:00:02 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:00:02 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:00:02 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:00:02 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:00:02 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:00:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:00:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:00:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:00:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:00:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:00:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:00:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:00:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:00:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:00:02 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:00:02 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:00:02 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:00:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:00:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:00:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:00:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:00:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:00:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:00:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:00:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:00:02 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:00:02 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users
2024-12-22 13:00:02 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ()
2024-12-22 13:00:02 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:00:02 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (1,)
2024-12-22 13:00:02 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:00:02 - sqlalchemy.engine.Engine - INFO - [cached since 0.001121s ago] (2,)
2024-12-22 13:00:02 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:00:02 - app.db.session - DEBUG - Closing database session
2024-12-22 13:00:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:00:02 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:00:02 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ()
2024-12-22 13:00:02 - app.db - DEBUG - Database health check successful
2024-12-22 13:00:02 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:00:02 - app.db.session - DEBUG - Closing database session
2024-12-22 13:00:02 - app.main - DEBUG - Health check details
2024-12-22 13:00:19 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:00:19 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:00:19 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (2,)
2024-12-22 13:00:19 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:00:19 - sqlalchemy.engine.Engine - INFO - [cached since 16.58s ago] (2,)
2024-12-22 13:00:19 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:00:19 - app.db.session - DEBUG - Closing database session
2024-12-22 13:00:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:00:31 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE api_keys.id = ?
2024-12-22 13:00:31 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (1,)
2024-12-22 13:00:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:00:31 - app.db.session - DEBUG - Closing database session
2024-12-22 13:00:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:00:32 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:00:32 - sqlalchemy.engine.Engine - INFO - [cached since 30.06s ago] ()
2024-12-22 13:00:32 - app.db - DEBUG - Database health check successful
2024-12-22 13:00:32 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:00:32 - app.db.session - DEBUG - Closing database session
2024-12-22 13:00:32 - app.main - DEBUG - Health check details
2024-12-22 13:00:49 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:00:49 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys
2024-12-22 13:00:49 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ()
2024-12-22 13:00:49 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:00:49 - app.db.session - DEBUG - Closing database session
2024-12-22 13:01:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:01:02 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:01:02 - sqlalchemy.engine.Engine - INFO - [cached since 60.12s ago] ()
2024-12-22 13:01:02 - app.db - DEBUG - Database health check successful
2024-12-22 13:01:02 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:01:02 - app.db.session - DEBUG - Closing database session
2024-12-22 13:01:02 - app.main - DEBUG - Health check details
2024-12-22 13:01:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:01:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users
2024-12-22 13:01:26 - sqlalchemy.engine.Engine - INFO - [cached since 84.17s ago] ()
2024-12-22 13:01:26 - app.db.session - ERROR - Database session error, rolling back transaction
Traceback (most recent call last):
  File "/app/app/db/session.py", line 35, in get_db_session
    yield session
  File "/app/app/cli/manage.py", line 71, in display_version_info
    user_count = db.exec(select(User)).count()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ScalarResult' object has no attribute 'count'
2024-12-22 13:01:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2024-12-22 13:01:26 - app.db.session - DEBUG - Closing database session
2024-12-22 13:01:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:01:32 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:01:32 - sqlalchemy.engine.Engine - INFO - [cached since 90.18s ago] ()
2024-12-22 13:01:32 - app.db - DEBUG - Database health check successful
2024-12-22 13:01:32 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:01:32 - app.db.session - DEBUG - Closing database session
2024-12-22 13:01:32 - app.main - DEBUG - Health check details
2024-12-22 13:02:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:02:02 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:02:02 - sqlalchemy.engine.Engine - INFO - [cached since 120.2s ago] ()
2024-12-22 13:02:02 - app.db - DEBUG - Database health check successful
2024-12-22 13:02:02 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:02:02 - app.db.session - DEBUG - Closing database session
2024-12-22 13:02:02 - app.main - DEBUG - Health check details
2024-12-22 13:02:16 - app.main - INFO - Initiating application shutdown...
2024-12-22 13:02:16 - app.main - INFO - Application shutdown completed successfully
2024-12-22 13:02:18 - app.main - INFO - Starting application initialization...
2024-12-22 13:02:18 - app.main - DEBUG - Application configuration:
2024-12-22 13:02:18 - app.main - DEBUG - Environment: development
2024-12-22 13:02:18 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 13:02:18 - app.main - DEBUG - API Key Auth: True
2024-12-22 13:02:18 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 13:02:18 - app.main - INFO - Initializing database...
2024-12-22 13:02:18 - app.db.init_db - INFO - Creating database tables...
2024-12-22 13:02:18 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:02:18 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 13:02:18 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:02:18 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 13:02:18 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:02:18 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:02:18 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 13:02:18 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 13:02:18 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:02:18 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:02:18 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:02:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:02:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:02:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:02:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:02:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:02:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:02:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:02:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:02:18 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:02:18 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:02:18 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:02:18 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:02:18 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:02:18 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:02:18 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:02:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:02:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:02:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:02:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:02:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:02:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:02:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:02:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:02:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:02:18 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:02:18 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:02:18 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:02:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:02:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:02:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:02:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:02:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:02:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:02:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:02:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:02:18 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:02:18 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 13:02:18 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] ('admin@example.com',)
2024-12-22 13:02:18 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 13:02:18 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 13:02:18 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 13:02:18 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('ADMIN', 1)
2024-12-22 13:02:18 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 13:02:18 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 13:02:18 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 13:02:18 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:02:18 - app.db.session - DEBUG - Closing database session
2024-12-22 13:02:18 - app.main - INFO - Application started successfully in development mode
2024-12-22 13:02:27 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:02:27 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:02:27 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:02:27 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:02:27 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:02:27 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:02:27 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:02:27 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:02:27 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:02:27 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:02:27 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:02:27 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:02:27 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:02:27 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:02:27 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:02:27 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:02:27 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:02:27 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:02:27 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:02:27 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:02:27 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:02:27 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:02:27 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:02:27 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:02:27 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:02:27 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:02:27 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:02:27 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:02:27 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:02:27 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:02:27 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:02:27 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:02:27 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:02:27 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:02:27 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:02:27 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:02:27 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:02:27 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:02:27 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:02:27 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users
2024-12-22 13:02:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ()
2024-12-22 13:02:27 - app.db.session - ERROR - Database session error, rolling back transaction
Traceback (most recent call last):
  File "/app/app/db/session.py", line 35, in get_db_session
    yield session
  File "/app/app/cli/manage.py", line 79, in display_version_info
    api_keys = db.exec(select(APIKey)).all()
                              ^^^^^^
NameError: name 'APIKey' is not defined
2024-12-22 13:02:27 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2024-12-22 13:02:27 - app.db.session - DEBUG - Closing database session
2024-12-22 13:02:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:02:32 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:02:32 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ()
2024-12-22 13:02:32 - app.db - DEBUG - Database health check successful
2024-12-22 13:02:32 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:02:32 - app.db.session - DEBUG - Closing database session
2024-12-22 13:02:32 - app.main - DEBUG - Health check details
2024-12-22 13:03:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:03:03 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:03:03 - sqlalchemy.engine.Engine - INFO - [cached since 30.06s ago] ()
2024-12-22 13:03:03 - app.db - DEBUG - Database health check successful
2024-12-22 13:03:03 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:03:03 - app.db.session - DEBUG - Closing database session
2024-12-22 13:03:03 - app.main - DEBUG - Health check details
2024-12-22 13:03:12 - app.main - INFO - Initiating application shutdown...
2024-12-22 13:03:12 - app.main - INFO - Application shutdown completed successfully
2024-12-22 13:03:13 - app.main - INFO - Starting application initialization...
2024-12-22 13:03:13 - app.main - DEBUG - Application configuration:
2024-12-22 13:03:13 - app.main - DEBUG - Environment: development
2024-12-22 13:03:13 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 13:03:13 - app.main - DEBUG - API Key Auth: True
2024-12-22 13:03:13 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 13:03:13 - app.main - INFO - Initializing database...
2024-12-22 13:03:13 - app.db.init_db - INFO - Creating database tables...
2024-12-22 13:03:13 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:03:13 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 13:03:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:03:13 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 13:03:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:03:13 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:03:13 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 13:03:13 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 13:03:13 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:03:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:03:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:03:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:03:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:03:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:03:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:03:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:03:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:03:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:03:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:03:13 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:03:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:03:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:03:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:03:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:03:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:03:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:03:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:03:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:03:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:03:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:03:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:03:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:03:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:03:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:03:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:03:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:03:13 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:03:13 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:03:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:03:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:03:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:03:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:03:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:03:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:03:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:03:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:03:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:03:13 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 13:03:13 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('admin@example.com',)
2024-12-22 13:03:13 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 13:03:13 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 13:03:13 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 13:03:13 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('ADMIN', 1)
2024-12-22 13:03:13 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 13:03:13 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 13:03:13 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 13:03:13 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:03:13 - app.db.session - DEBUG - Closing database session
2024-12-22 13:03:13 - app.main - INFO - Application started successfully in development mode
2024-12-22 13:03:17 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:03:17 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:03:17 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:03:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:03:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:03:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:03:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:03:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:03:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:03:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:03:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:03:17 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:03:17 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:03:17 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:03:17 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:03:17 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:03:17 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:03:17 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:03:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:03:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:03:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:03:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:03:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:03:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:03:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:03:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:03:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:03:17 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:03:17 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:03:17 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:03:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:03:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:03:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:03:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:03:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:03:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:03:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:03:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:03:17 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:03:17 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users
2024-12-22 13:03:17 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ()
2024-12-22 13:03:17 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys
2024-12-22 13:03:17 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2024-12-22 13:03:17 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:03:17 - app.db.session - DEBUG - Closing database session
2024-12-22 13:03:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:03:31 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE api_keys.id = ?
2024-12-22 13:03:31 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (2,)
2024-12-22 13:03:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:03:31 - app.db.session - DEBUG - Closing database session
2024-12-22 13:03:33 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:03:33 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:03:33 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ()
2024-12-22 13:03:33 - app.db - DEBUG - Database health check successful
2024-12-22 13:03:33 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:03:33 - app.db.session - DEBUG - Closing database session
2024-12-22 13:03:33 - app.main - DEBUG - Health check details
2024-12-22 13:03:53 - app.main - INFO - Initiating application shutdown...
2024-12-22 13:03:53 - app.main - INFO - Application shutdown completed successfully
2024-12-22 13:03:54 - app.main - INFO - Starting application initialization...
2024-12-22 13:03:54 - app.main - DEBUG - Application configuration:
2024-12-22 13:03:54 - app.main - DEBUG - Environment: development
2024-12-22 13:03:54 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 13:03:54 - app.main - DEBUG - API Key Auth: True
2024-12-22 13:03:54 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 13:03:54 - app.main - INFO - Initializing database...
2024-12-22 13:03:54 - app.db.init_db - INFO - Creating database tables...
2024-12-22 13:03:54 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:03:54 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 13:03:54 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:03:54 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 13:03:54 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:03:54 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:03:54 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 13:03:54 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 13:03:54 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:03:54 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:03:54 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:03:54 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:03:54 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:03:54 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:03:54 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:03:54 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:03:54 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:03:54 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:03:54 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:03:54 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:03:54 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:03:54 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:03:54 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:03:54 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:03:54 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:03:54 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:03:54 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:03:54 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:03:54 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:03:54 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:03:54 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:03:54 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:03:54 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:03:54 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:03:54 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:03:54 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:03:54 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:03:54 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:03:54 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:03:54 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:03:54 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:03:54 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:03:54 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:03:54 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:03:54 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:03:54 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:03:54 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:03:54 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 13:03:54 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('admin@example.com',)
2024-12-22 13:03:54 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 13:03:54 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 13:03:54 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 13:03:54 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('ADMIN', 1)
2024-12-22 13:03:54 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 13:03:54 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 13:03:54 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 13:03:54 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:03:54 - app.db.session - DEBUG - Closing database session
2024-12-22 13:03:54 - app.main - INFO - Application started successfully in development mode
2024-12-22 13:04:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:04:03 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:04:03 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ()
2024-12-22 13:04:03 - app.db - DEBUG - Database health check successful
2024-12-22 13:04:03 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:04:03 - app.db.session - DEBUG - Closing database session
2024-12-22 13:04:03 - app.main - DEBUG - Health check details
2024-12-22 13:04:33 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:04:33 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:04:33 - sqlalchemy.engine.Engine - INFO - [cached since 30.06s ago] ()
2024-12-22 13:04:33 - app.db - DEBUG - Database health check successful
2024-12-22 13:04:33 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:04:33 - app.db.session - DEBUG - Closing database session
2024-12-22 13:04:33 - app.main - DEBUG - Health check details
2024-12-22 13:05:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:05:03 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:05:03 - sqlalchemy.engine.Engine - INFO - [cached since 60.12s ago] ()
2024-12-22 13:05:03 - app.db - DEBUG - Database health check successful
2024-12-22 13:05:03 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:05:03 - app.db.session - DEBUG - Closing database session
2024-12-22 13:05:03 - app.main - DEBUG - Health check details
2024-12-22 13:05:13 - app.main - INFO - Initiating application shutdown...
2024-12-22 13:05:13 - app.main - INFO - Application shutdown completed successfully
2024-12-22 13:05:15 - app.main - INFO - Starting application initialization...
2024-12-22 13:05:15 - app.main - DEBUG - Application configuration:
2024-12-22 13:05:15 - app.main - DEBUG - Environment: development
2024-12-22 13:05:15 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 13:05:15 - app.main - DEBUG - API Key Auth: True
2024-12-22 13:05:15 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 13:05:15 - app.main - INFO - Initializing database...
2024-12-22 13:05:15 - app.db.init_db - INFO - Creating database tables...
2024-12-22 13:05:15 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:05:15 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 13:05:15 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:05:15 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 13:05:15 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:05:15 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:05:15 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 13:05:15 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 13:05:15 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:05:15 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:05:15 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:05:15 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:05:15 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:05:15 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:05:15 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:05:15 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:05:15 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:05:15 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:05:15 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:05:15 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:05:15 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:05:15 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:05:15 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:05:15 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:05:15 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:05:15 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:05:15 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:05:15 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:05:15 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:05:15 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:05:15 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:05:15 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:05:15 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:05:15 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:05:15 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:05:15 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:05:15 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:05:15 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:05:15 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:05:15 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:05:15 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:05:15 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:05:15 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:05:15 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:05:15 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:05:15 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:05:15 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:05:15 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 13:05:15 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('admin@example.com',)
2024-12-22 13:05:15 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 13:05:15 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 13:05:15 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 13:05:15 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('ADMIN', 1)
2024-12-22 13:05:15 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 13:05:15 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 13:05:15 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 13:05:15 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:05:15 - app.db.session - DEBUG - Closing database session
2024-12-22 13:05:15 - app.main - INFO - Application started successfully in development mode
2024-12-22 13:05:33 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:05:33 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:05:33 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ()
2024-12-22 13:05:33 - app.db - DEBUG - Database health check successful
2024-12-22 13:05:33 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:05:33 - app.db.session - DEBUG - Closing database session
2024-12-22 13:05:33 - app.main - DEBUG - Health check details
2024-12-22 13:05:34 - app.main - INFO - Initiating application shutdown...
2024-12-22 13:05:34 - app.main - INFO - Application shutdown completed successfully
2024-12-22 13:05:36 - app.main - INFO - Starting application initialization...
2024-12-22 13:05:36 - app.main - DEBUG - Application configuration:
2024-12-22 13:05:36 - app.main - DEBUG - Environment: development
2024-12-22 13:05:36 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 13:05:36 - app.main - DEBUG - API Key Auth: True
2024-12-22 13:05:36 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 13:05:36 - app.main - INFO - Initializing database...
2024-12-22 13:05:36 - app.db.init_db - INFO - Creating database tables...
2024-12-22 13:05:36 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:05:36 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 13:05:36 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:05:36 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 13:05:36 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:05:36 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:05:36 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 13:05:36 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 13:05:36 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:05:36 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:05:36 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:05:36 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:05:36 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:05:36 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:05:36 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:05:36 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:05:36 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:05:36 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:05:36 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:05:36 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:05:36 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:05:36 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:05:36 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:05:36 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:05:36 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:05:36 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:05:36 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:05:36 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:05:36 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:05:36 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:05:36 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:05:36 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:05:36 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:05:36 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:05:36 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:05:36 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:05:36 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:05:36 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:05:36 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:05:36 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:05:36 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:05:36 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:05:36 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:05:36 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:05:36 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:05:36 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:05:36 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:05:36 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 13:05:36 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('admin@example.com',)
2024-12-22 13:05:36 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 13:05:36 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 13:05:36 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 13:05:36 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('ADMIN', 1)
2024-12-22 13:05:36 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 13:05:36 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 13:05:36 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 13:05:36 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:05:36 - app.db.session - DEBUG - Closing database session
2024-12-22 13:05:36 - app.main - INFO - Application started successfully in development mode
2024-12-22 13:05:48 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:05:48 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:05:48 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:05:48 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:05:48 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:05:48 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:05:48 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:05:48 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:05:48 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:05:48 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:05:48 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:05:48 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:05:48 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:05:48 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:05:48 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:05:48 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:05:48 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:05:48 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:05:48 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:05:48 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:05:48 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:05:48 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:05:48 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:05:48 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:05:48 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:05:48 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:05:48 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:05:48 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:05:48 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:05:48 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:05:48 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:05:48 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:05:48 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:05:48 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:05:48 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:05:48 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:05:48 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:05:48 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:05:48 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:05:48 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE api_keys.id = ?
2024-12-22 13:05:48 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (2,)
2024-12-22 13:05:48 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:05:48 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (2,)
2024-12-22 13:05:48 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:05:48 - app.db.session - DEBUG - Closing database session
2024-12-22 13:06:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:06:03 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:06:03 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ()
2024-12-22 13:06:03 - app.db - DEBUG - Database health check successful
2024-12-22 13:06:03 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:06:03 - app.db.session - DEBUG - Closing database session
2024-12-22 13:06:03 - app.main - DEBUG - Health check details
2024-12-22 13:06:33 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:06:33 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:06:33 - sqlalchemy.engine.Engine - INFO - [cached since 30.06s ago] ()
2024-12-22 13:06:33 - app.db - DEBUG - Database health check successful
2024-12-22 13:06:33 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:06:33 - app.db.session - DEBUG - Closing database session
2024-12-22 13:06:33 - app.main - DEBUG - Health check details
2024-12-22 13:06:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:06:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users
2024-12-22 13:06:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ()
2024-12-22 13:06:40 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:06:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (1,)
2024-12-22 13:06:40 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:06:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.001348s ago] (2,)
2024-12-22 13:06:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:06:40 - app.db.session - DEBUG - Closing database session
2024-12-22 13:06:55 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:06:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 13:06:55 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('graham@test.com',)
2024-12-22 13:06:55 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (name, email, status, created_at) VALUES (?, ?, ?, ?)
2024-12-22 13:06:55 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('graham', 'graham@test.com', 'ACTIVE', '2024-12-22 13:06:55.173523')
2024-12-22 13:06:55 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:06:55 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:06:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:06:55 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (3,)
2024-12-22 13:06:55 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:06:55 - app.db.session - DEBUG - Closing database session
2024-12-22 13:07:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:07:02 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users
2024-12-22 13:07:02 - sqlalchemy.engine.Engine - INFO - [cached since 22.11s ago] ()
2024-12-22 13:07:02 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:07:02 - sqlalchemy.engine.Engine - INFO - [cached since 22.11s ago] (1,)
2024-12-22 13:07:02 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:07:02 - sqlalchemy.engine.Engine - INFO - [cached since 22.11s ago] (2,)
2024-12-22 13:07:02 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:07:02 - sqlalchemy.engine.Engine - INFO - [cached since 22.11s ago] (3,)
2024-12-22 13:07:02 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:07:02 - app.db.session - DEBUG - Closing database session
2024-12-22 13:07:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:07:03 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:07:03 - sqlalchemy.engine.Engine - INFO - [cached since 60.13s ago] ()
2024-12-22 13:07:03 - app.db - DEBUG - Database health check successful
2024-12-22 13:07:03 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:07:03 - app.db.session - DEBUG - Closing database session
2024-12-22 13:07:03 - app.main - DEBUG - Health check details
2024-12-22 13:07:12 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:07:12 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:07:12 - sqlalchemy.engine.Engine - INFO - [cached since 84.24s ago] (3,)
2024-12-22 13:07:12 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:07:12 - sqlalchemy.engine.Engine - INFO - [cached since 32.06s ago] (3,)
2024-12-22 13:07:12 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:07:12 - app.db.session - DEBUG - Closing database session
2024-12-22 13:07:33 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:07:33 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:07:33 - sqlalchemy.engine.Engine - INFO - [cached since 90.19s ago] ()
2024-12-22 13:07:33 - app.db - DEBUG - Database health check successful
2024-12-22 13:07:33 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:07:33 - app.db.session - DEBUG - Closing database session
2024-12-22 13:07:33 - app.main - DEBUG - Health check details
2024-12-22 13:08:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:08:03 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:08:03 - sqlalchemy.engine.Engine - INFO - [cached since 120.3s ago] ()
2024-12-22 13:08:03 - app.db - DEBUG - Database health check successful
2024-12-22 13:08:03 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:08:03 - app.db.session - DEBUG - Closing database session
2024-12-22 13:08:03 - app.main - DEBUG - Health check details
2024-12-22 13:08:17 - app.main - INFO - Initiating application shutdown...
2024-12-22 13:08:17 - app.main - INFO - Application shutdown completed successfully
2024-12-22 13:08:19 - app.main - INFO - Starting application initialization...
2024-12-22 13:08:19 - app.main - DEBUG - Application configuration:
2024-12-22 13:08:19 - app.main - DEBUG - Environment: development
2024-12-22 13:08:19 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 13:08:19 - app.main - DEBUG - API Key Auth: True
2024-12-22 13:08:19 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 13:08:19 - app.main - INFO - Initializing database...
2024-12-22 13:08:19 - app.db.init_db - INFO - Creating database tables...
2024-12-22 13:08:19 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:08:19 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 13:08:19 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:08:19 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 13:08:19 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:08:19 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:08:19 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 13:08:19 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 13:08:19 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:08:19 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:08:19 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:08:19 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:08:19 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:08:19 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:08:19 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:08:19 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:08:19 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:08:19 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:08:19 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:08:19 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:08:19 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:08:19 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:08:19 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:08:19 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:08:19 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:08:19 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:08:19 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:08:19 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:08:19 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:08:19 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:08:19 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:08:19 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:08:19 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:08:19 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:08:19 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:08:19 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:08:19 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:08:19 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:08:19 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:08:19 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:08:19 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:08:19 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:08:19 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:08:19 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:08:19 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:08:19 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:08:19 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:08:19 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 13:08:19 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('admin@example.com',)
2024-12-22 13:08:19 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 13:08:19 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 13:08:19 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 13:08:19 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('ADMIN', 1)
2024-12-22 13:08:19 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 13:08:19 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 13:08:19 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 13:08:19 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:08:19 - app.db.session - DEBUG - Closing database session
2024-12-22 13:08:19 - app.main - INFO - Application started successfully in development mode
2024-12-22 13:08:33 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:08:33 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:08:33 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ()
2024-12-22 13:08:33 - app.db - DEBUG - Database health check successful
2024-12-22 13:08:33 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:08:33 - app.db.session - DEBUG - Closing database session
2024-12-22 13:08:33 - app.main - DEBUG - Health check details
2024-12-22 13:08:40 - app.main - INFO - Initiating application shutdown...
2024-12-22 13:08:40 - app.main - INFO - Application shutdown completed successfully
2024-12-22 13:08:42 - app.main - INFO - Starting application initialization...
2024-12-22 13:08:42 - app.main - DEBUG - Application configuration:
2024-12-22 13:08:42 - app.main - DEBUG - Environment: development
2024-12-22 13:08:42 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 13:08:42 - app.main - DEBUG - API Key Auth: True
2024-12-22 13:08:42 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 13:08:42 - app.main - INFO - Initializing database...
2024-12-22 13:08:42 - app.db.init_db - INFO - Creating database tables...
2024-12-22 13:08:42 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:08:42 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 13:08:42 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:08:42 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 13:08:42 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:08:42 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:08:42 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 13:08:42 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 13:08:42 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:08:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:08:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:08:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:08:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:08:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:08:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:08:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:08:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:08:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:08:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:08:42 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:08:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:08:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:08:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:08:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:08:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:08:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:08:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:08:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:08:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:08:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:08:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:08:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:08:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:08:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:08:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:08:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:08:42 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:08:42 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:08:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:08:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:08:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:08:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:08:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:08:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:08:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:08:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:08:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:08:42 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 13:08:42 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('admin@example.com',)
2024-12-22 13:08:42 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 13:08:42 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 13:08:42 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 13:08:42 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('ADMIN', 1)
2024-12-22 13:08:42 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 13:08:42 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 13:08:42 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 13:08:42 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:08:42 - app.db.session - DEBUG - Closing database session
2024-12-22 13:08:42 - app.main - INFO - Application started successfully in development mode
2024-12-22 13:08:57 - app.main - INFO - Initiating application shutdown...
2024-12-22 13:08:57 - app.main - INFO - Application shutdown completed successfully
2024-12-22 13:08:58 - app.main - INFO - Starting application initialization...
2024-12-22 13:08:58 - app.main - DEBUG - Application configuration:
2024-12-22 13:08:58 - app.main - DEBUG - Environment: development
2024-12-22 13:08:58 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 13:08:58 - app.main - DEBUG - API Key Auth: True
2024-12-22 13:08:58 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 13:08:58 - app.main - INFO - Initializing database...
2024-12-22 13:08:58 - app.db.init_db - INFO - Creating database tables...
2024-12-22 13:08:58 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:08:58 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 13:08:58 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:08:58 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 13:08:58 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:08:58 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:08:58 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 13:08:58 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 13:08:58 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:08:58 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:08:58 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:08:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:08:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:08:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:08:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:08:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:08:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:08:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:08:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:08:58 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:08:58 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:08:58 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:08:58 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:08:58 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:08:58 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:08:58 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:08:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:08:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:08:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:08:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:08:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:08:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:08:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:08:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:08:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:08:58 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:08:58 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:08:58 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:08:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:08:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:08:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:08:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:08:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:08:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:08:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:08:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:08:58 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:08:58 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 13:08:58 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('admin@example.com',)
2024-12-22 13:08:58 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 13:08:58 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 13:08:58 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 13:08:58 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('ADMIN', 1)
2024-12-22 13:08:58 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 13:08:58 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 13:08:58 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 13:08:58 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:08:58 - app.db.session - DEBUG - Closing database session
2024-12-22 13:08:58 - app.main - INFO - Application started successfully in development mode
2024-12-22 13:09:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:09:03 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:09:03 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ()
2024-12-22 13:09:03 - app.db - DEBUG - Database health check successful
2024-12-22 13:09:03 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:09:03 - app.db.session - DEBUG - Closing database session
2024-12-22 13:09:03 - app.main - DEBUG - Health check details
2024-12-22 13:09:12 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:09:12 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:09:12 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:09:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:09:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:09:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:09:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:09:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:09:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:09:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:09:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:09:12 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:09:12 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:09:12 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:09:12 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:09:12 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:09:12 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:09:12 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:09:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:09:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:09:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:09:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:09:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:09:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:09:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:09:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:09:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:09:12 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:09:12 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:09:12 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:09:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:09:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:09:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:09:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:09:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:09:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:09:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:09:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:09:12 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:09:12 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:09:12 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (3,)
2024-12-22 13:09:12 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:09:12 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (3,)
2024-12-22 13:09:12 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:09:12 - app.db.session - DEBUG - Closing database session
2024-12-22 13:09:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:09:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:09:21 - sqlalchemy.engine.Engine - INFO - [cached since 9.618s ago] (1,)
2024-12-22 13:09:21 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:09:21 - sqlalchemy.engine.Engine - INFO - [cached since 9.615s ago] (1,)
2024-12-22 13:09:21 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:09:21 - app.db.session - DEBUG - Closing database session
2024-12-22 13:09:33 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:09:33 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:09:33 - sqlalchemy.engine.Engine - INFO - [cached since 30.06s ago] ()
2024-12-22 13:09:33 - app.db - DEBUG - Database health check successful
2024-12-22 13:09:33 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:09:33 - app.db.session - DEBUG - Closing database session
2024-12-22 13:09:33 - app.main - DEBUG - Health check details
2024-12-22 13:09:50 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:09:50 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:09:50 - sqlalchemy.engine.Engine - INFO - [cached since 38.75s ago] (3,)
2024-12-22 13:09:50 - sqlalchemy.engine.Engine - INFO - UPDATE users SET status=? WHERE users.id = ?
2024-12-22 13:09:50 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('INACTIVE', 3)
2024-12-22 13:09:50 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:09:50 - sqlalchemy.engine.Engine - INFO - [cached since 38.75s ago] (3,)
2024-12-22 13:09:50 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:09:50 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:09:50 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:09:50 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (3,)
2024-12-22 13:09:50 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:09:50 - app.db.session - DEBUG - Closing database session
2024-12-22 13:09:56 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:09:56 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users
2024-12-22 13:09:56 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ()
2024-12-22 13:09:56 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:09:56 - sqlalchemy.engine.Engine - INFO - [cached since 44.51s ago] (1,)
2024-12-22 13:09:56 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:09:56 - sqlalchemy.engine.Engine - INFO - [cached since 44.51s ago] (2,)
2024-12-22 13:09:56 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:09:56 - sqlalchemy.engine.Engine - INFO - [cached since 44.51s ago] (3,)
2024-12-22 13:09:56 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:09:56 - app.db.session - DEBUG - Closing database session
2024-12-22 13:10:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:10:03 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:10:03 - sqlalchemy.engine.Engine - INFO - [cached since 60.12s ago] ()
2024-12-22 13:10:03 - app.db - DEBUG - Database health check successful
2024-12-22 13:10:03 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:10:03 - app.db.session - DEBUG - Closing database session
2024-12-22 13:10:03 - app.main - DEBUG - Health check details
2024-12-22 13:10:10 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:10:10 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys
2024-12-22 13:10:10 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ()
2024-12-22 13:10:10 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:10:10 - app.db.session - DEBUG - Closing database session
2024-12-22 13:10:33 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:10:33 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:10:33 - sqlalchemy.engine.Engine - INFO - [cached since 90.17s ago] ()
2024-12-22 13:10:33 - app.db - DEBUG - Database health check successful
2024-12-22 13:10:33 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:10:33 - app.db.session - DEBUG - Closing database session
2024-12-22 13:10:33 - app.main - DEBUG - Health check details
2024-12-22 13:11:04 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:11:04 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:11:04 - sqlalchemy.engine.Engine - INFO - [cached since 120.2s ago] ()
2024-12-22 13:11:04 - app.db - DEBUG - Database health check successful
2024-12-22 13:11:04 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:11:04 - app.db.session - DEBUG - Closing database session
2024-12-22 13:11:04 - app.main - DEBUG - Health check details
2024-12-22 13:11:34 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:11:34 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:11:34 - sqlalchemy.engine.Engine - INFO - [cached since 150.3s ago] ()
2024-12-22 13:11:34 - app.db - DEBUG - Database health check successful
2024-12-22 13:11:34 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:11:34 - app.db.session - DEBUG - Closing database session
2024-12-22 13:11:34 - app.main - DEBUG - Health check details
2024-12-22 13:12:03 - app.main - INFO - Initiating application shutdown...
2024-12-22 13:12:03 - app.main - INFO - Application shutdown completed successfully
2024-12-22 13:12:04 - app.main - INFO - Starting application initialization...
2024-12-22 13:12:04 - app.main - DEBUG - Application configuration:
2024-12-22 13:12:04 - app.main - DEBUG - Environment: development
2024-12-22 13:12:04 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 13:12:04 - app.main - DEBUG - API Key Auth: True
2024-12-22 13:12:04 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 13:12:04 - app.main - INFO - Initializing database...
2024-12-22 13:12:04 - app.db.init_db - INFO - Creating database tables...
2024-12-22 13:12:04 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:12:04 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 13:12:04 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:12:04 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 13:12:04 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:12:04 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:12:04 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 13:12:04 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 13:12:04 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:12:04 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:12:04 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:12:04 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:12:04 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:12:04 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:12:04 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:12:04 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:12:04 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:12:04 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:12:04 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:12:04 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:12:04 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:12:04 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:12:04 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:12:04 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:12:04 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:12:04 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:12:04 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:12:04 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:12:04 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:12:04 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:12:04 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:12:04 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:12:04 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:12:04 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:12:04 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:12:04 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:12:04 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:12:04 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:12:04 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:12:04 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:12:04 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:12:04 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:12:04 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:12:04 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:12:04 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:12:04 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:12:04 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:12:04 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 13:12:04 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('admin@example.com',)
2024-12-22 13:12:04 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 13:12:04 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 13:12:04 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 13:12:04 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('ADMIN', 1)
2024-12-22 13:12:04 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 13:12:04 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 13:12:04 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 13:12:04 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:12:04 - app.db.session - DEBUG - Closing database session
2024-12-22 13:12:04 - app.main - INFO - Application started successfully in development mode
2024-12-22 13:12:04 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:12:04 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:12:04 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ()
2024-12-22 13:12:04 - app.db - DEBUG - Database health check successful
2024-12-22 13:12:04 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:12:04 - app.db.session - DEBUG - Closing database session
2024-12-22 13:12:04 - app.main - DEBUG - Health check details
2024-12-22 13:12:13 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:12:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:12:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:12:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:12:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:12:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:12:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:12:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:12:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:12:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:12:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:12:13 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:12:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:12:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:12:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:12:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:12:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:12:13 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:12:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:12:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:12:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:12:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:12:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:12:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:12:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:12:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:12:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:12:13 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:12:13 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:12:13 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:12:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:12:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:12:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:12:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:12:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:12:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:12:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:12:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:12:13 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:12:13 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys
2024-12-22 13:12:13 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ()
2024-12-22 13:12:13 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:12:13 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (1,)
2024-12-22 13:12:13 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:12:13 - sqlalchemy.engine.Engine - INFO - [cached since 0.001915s ago] (2,)
2024-12-22 13:12:13 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:12:13 - app.db.session - DEBUG - Closing database session
2024-12-22 13:12:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:12:32 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.status = ?
2024-12-22 13:12:32 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('ACTIVE',)
2024-12-22 13:12:32 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:12:32 - app.db.session - DEBUG - Closing database session
2024-12-22 13:12:34 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:12:34 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:12:34 - sqlalchemy.engine.Engine - INFO - [cached since 30.06s ago] ()
2024-12-22 13:12:34 - app.db - DEBUG - Database health check successful
2024-12-22 13:12:34 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:12:34 - app.db.session - DEBUG - Closing database session
2024-12-22 13:12:34 - app.main - DEBUG - Health check details
2024-12-22 13:12:43 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:12:43 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:12:43 - sqlalchemy.engine.Engine - INFO - [cached since 29.5s ago] (2,)
2024-12-22 13:12:43 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.name = ? AND api_keys.user_id = ?
2024-12-22 13:12:43 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('another', 2)
2024-12-22 13:12:43 - sqlalchemy.engine.Engine - INFO - INSERT INTO api_keys ("key", name, role, created_at, last_used, is_active, user_id) VALUES (?, ?, ?, ?, ?, ?, ?)
2024-12-22 13:12:43 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('$2b$12$Ai6Fiwc2yRb9tRbi8QDDP.C5RET/gHsPkCnwxaEaK7W86T2mNofhe', 'another', 'USER', '2024-12-22 13:12:43.718714', None, 1, 2)
2024-12-22 13:12:43 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:12:43 - app.db.session - DEBUG - Closing database session
2024-12-22 13:12:53 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:12:53 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users
2024-12-22 13:12:53 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2024-12-22 13:12:53 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:12:53 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (1,)
2024-12-22 13:12:53 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:12:53 - sqlalchemy.engine.Engine - INFO - [cached since 0.001204s ago] (2,)
2024-12-22 13:12:53 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:12:53 - sqlalchemy.engine.Engine - INFO - [cached since 0.001942s ago] (3,)
2024-12-22 13:12:53 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:12:53 - app.db.session - DEBUG - Closing database session
2024-12-22 13:13:04 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:13:04 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:13:04 - sqlalchemy.engine.Engine - INFO - [cached since 60.12s ago] ()
2024-12-22 13:13:04 - app.db - DEBUG - Database health check successful
2024-12-22 13:13:04 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:13:04 - app.db.session - DEBUG - Closing database session
2024-12-22 13:13:05 - app.main - DEBUG - Health check details
2024-12-22 13:13:09 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:13:09 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:13:09 - sqlalchemy.engine.Engine - INFO - [cached since 55.55s ago] (3,)
2024-12-22 13:13:09 - sqlalchemy.engine.Engine - INFO - UPDATE users SET status=? WHERE users.id = ?
2024-12-22 13:13:09 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('ACTIVE', 3)
2024-12-22 13:13:09 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:13:09 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:13:09 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:13:09 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (3,)
2024-12-22 13:13:09 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:13:09 - app.db.session - DEBUG - Closing database session
2024-12-22 13:13:20 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:13:20 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys
2024-12-22 13:13:20 - sqlalchemy.engine.Engine - INFO - [cached since 66.74s ago] ()
2024-12-22 13:13:20 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:13:20 - sqlalchemy.engine.Engine - INFO - [cached since 66.73s ago] (1,)
2024-12-22 13:13:20 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:13:20 - sqlalchemy.engine.Engine - INFO - [cached since 66.74s ago] (2,)
2024-12-22 13:13:20 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:13:20 - app.db.session - DEBUG - Closing database session
2024-12-22 13:13:28 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:13:28 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.status = ?
2024-12-22 13:13:28 - sqlalchemy.engine.Engine - INFO - [cached since 56.28s ago] ('ACTIVE',)
2024-12-22 13:13:28 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:13:28 - app.db.session - DEBUG - Closing database session
2024-12-22 13:13:35 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:13:35 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:13:35 - sqlalchemy.engine.Engine - INFO - [cached since 90.17s ago] ()
2024-12-22 13:13:35 - app.db - DEBUG - Database health check successful
2024-12-22 13:13:35 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:13:35 - app.db.session - DEBUG - Closing database session
2024-12-22 13:13:35 - app.main - DEBUG - Health check details
2024-12-22 13:13:37 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:13:37 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:13:37 - sqlalchemy.engine.Engine - INFO - [cached since 83.78s ago] (3,)
2024-12-22 13:13:37 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.name = ? AND api_keys.user_id = ?
2024-12-22 13:13:37 - sqlalchemy.engine.Engine - INFO - [cached since 54.28s ago] ('grahamsite', 3)
2024-12-22 13:13:38 - sqlalchemy.engine.Engine - INFO - INSERT INTO api_keys ("key", name, role, created_at, last_used, is_active, user_id) VALUES (?, ?, ?, ?, ?, ?, ?)
2024-12-22 13:13:38 - sqlalchemy.engine.Engine - INFO - [cached since 54.28s ago] ('$2b$12$pi.6wwtp/JkHJPvVM/6a0e0aoyJ9AyGhATpmL7uk/OR8iIj6Ah9qa', 'grahamsite', 'USER', '2024-12-22 13:13:38.000026', None, 1, 3)
2024-12-22 13:13:38 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:13:38 - app.db.session - DEBUG - Closing database session
2024-12-22 13:13:49 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:13:49 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users
2024-12-22 13:13:49 - sqlalchemy.engine.Engine - INFO - [cached since 56.83s ago] ()
2024-12-22 13:13:49 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:13:49 - sqlalchemy.engine.Engine - INFO - [cached since 56.83s ago] (1,)
2024-12-22 13:13:49 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:13:49 - sqlalchemy.engine.Engine - INFO - [cached since 56.83s ago] (2,)
2024-12-22 13:13:49 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:13:49 - sqlalchemy.engine.Engine - INFO - [cached since 56.83s ago] (3,)
2024-12-22 13:13:49 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:13:49 - app.db.session - DEBUG - Closing database session
2024-12-22 13:14:05 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:14:05 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:14:05 - sqlalchemy.engine.Engine - INFO - [cached since 120.2s ago] ()
2024-12-22 13:14:05 - app.db - DEBUG - Database health check successful
2024-12-22 13:14:05 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:14:05 - app.db.session - DEBUG - Closing database session
2024-12-22 13:14:05 - app.main - DEBUG - Health check details
2024-12-22 13:14:07 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:14:07 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:14:07 - sqlalchemy.engine.Engine - INFO - [cached since 114s ago] (3,)
2024-12-22 13:14:07 - sqlalchemy.engine.Engine - INFO - UPDATE users SET status=? WHERE users.id = ?
2024-12-22 13:14:07 - sqlalchemy.engine.Engine - INFO - [cached since 58.47s ago] ('INACTIVE', 3)
2024-12-22 13:14:07 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:14:07 - sqlalchemy.engine.Engine - INFO - [cached since 74.88s ago] (3,)
2024-12-22 13:14:07 - sqlalchemy.engine.Engine - INFO - UPDATE api_keys SET is_active=? WHERE api_keys.id = ?
2024-12-22 13:14:07 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (0, 4)
2024-12-22 13:14:07 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:14:07 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:14:07 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:14:07 - sqlalchemy.engine.Engine - INFO - [cached since 58.49s ago] (3,)
2024-12-22 13:14:07 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:14:07 - app.db.session - DEBUG - Closing database session
2024-12-22 13:14:14 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:14:14 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys
2024-12-22 13:14:14 - sqlalchemy.engine.Engine - INFO - [cached since 121s ago] ()
2024-12-22 13:14:14 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:14:14 - sqlalchemy.engine.Engine - INFO - [cached since 121s ago] (1,)
2024-12-22 13:14:14 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:14:14 - sqlalchemy.engine.Engine - INFO - [cached since 121s ago] (2,)
2024-12-22 13:14:14 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:14:14 - sqlalchemy.engine.Engine - INFO - [cached since 121s ago] (3,)
2024-12-22 13:14:14 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:14:14 - app.db.session - DEBUG - Closing database session
2024-12-22 13:14:35 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:14:35 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:14:35 - sqlalchemy.engine.Engine - INFO - [cached since 150.3s ago] ()
2024-12-22 13:14:35 - app.db - DEBUG - Database health check successful
2024-12-22 13:14:35 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:14:35 - app.db.session - DEBUG - Closing database session
2024-12-22 13:14:35 - app.main - DEBUG - Health check details
2024-12-22 13:15:05 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:15:05 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:15:05 - sqlalchemy.engine.Engine - INFO - [cached since 180.3s ago] ()
2024-12-22 13:15:05 - app.db - DEBUG - Database health check successful
2024-12-22 13:15:05 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:15:05 - app.db.session - DEBUG - Closing database session
2024-12-22 13:15:05 - app.main - DEBUG - Health check details
2024-12-22 13:15:20 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:15:20 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:15:20 - sqlalchemy.engine.Engine - INFO - [cached since 186.3s ago] (3,)
2024-12-22 13:15:20 - sqlalchemy.engine.Engine - INFO - UPDATE users SET status=? WHERE users.id = ?
2024-12-22 13:15:20 - sqlalchemy.engine.Engine - INFO - [cached since 130.7s ago] ('ACTIVE', 3)
2024-12-22 13:15:20 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:15:20 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:15:20 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:15:20 - sqlalchemy.engine.Engine - INFO - [cached since 130.7s ago] (3,)
2024-12-22 13:15:20 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:15:20 - app.db.session - DEBUG - Closing database session
2024-12-22 13:15:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:15:31 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys
2024-12-22 13:15:31 - sqlalchemy.engine.Engine - INFO - [cached since 197.4s ago] ()
2024-12-22 13:15:31 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:15:31 - sqlalchemy.engine.Engine - INFO - [cached since 197.4s ago] (1,)
2024-12-22 13:15:31 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:15:31 - sqlalchemy.engine.Engine - INFO - [cached since 197.4s ago] (2,)
2024-12-22 13:15:31 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:15:31 - sqlalchemy.engine.Engine - INFO - [cached since 197.4s ago] (3,)
2024-12-22 13:15:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:15:31 - app.db.session - DEBUG - Closing database session
2024-12-22 13:15:35 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:15:35 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:15:35 - sqlalchemy.engine.Engine - INFO - [cached since 210.4s ago] ()
2024-12-22 13:15:35 - app.db - DEBUG - Database health check successful
2024-12-22 13:15:35 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:15:35 - app.db.session - DEBUG - Closing database session
2024-12-22 13:15:35 - app.main - DEBUG - Health check details
2024-12-22 13:15:45 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:15:45 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE api_keys.id = ?
2024-12-22 13:15:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (4,)
2024-12-22 13:15:45 - sqlalchemy.engine.Engine - INFO - UPDATE api_keys SET is_active=? WHERE api_keys.id = ?
2024-12-22 13:15:45 - sqlalchemy.engine.Engine - INFO - [cached since 97.85s ago] (1, 4)
2024-12-22 13:15:45 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:15:45 - app.db.session - DEBUG - Closing database session
2024-12-22 13:15:52 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:15:52 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys
2024-12-22 13:15:52 - sqlalchemy.engine.Engine - INFO - [cached since 218.5s ago] ()
2024-12-22 13:15:52 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:15:52 - sqlalchemy.engine.Engine - INFO - [cached since 218.5s ago] (1,)
2024-12-22 13:15:52 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:15:52 - sqlalchemy.engine.Engine - INFO - [cached since 218.5s ago] (2,)
2024-12-22 13:15:52 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:15:52 - sqlalchemy.engine.Engine - INFO - [cached since 218.5s ago] (3,)
2024-12-22 13:15:52 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:15:52 - app.db.session - DEBUG - Closing database session
2024-12-22 13:16:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:16:00 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:16:00 - sqlalchemy.engine.Engine - INFO - [cached since 226.8s ago] (3,)
2024-12-22 13:16:00 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:16:00 - sqlalchemy.engine.Engine - INFO - [cached since 187.7s ago] (3,)
2024-12-22 13:16:00 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:16:00 - app.db.session - DEBUG - Closing database session
2024-12-22 13:16:05 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:16:05 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:16:05 - sqlalchemy.engine.Engine - INFO - [cached since 240.5s ago] ()
2024-12-22 13:16:05 - app.db - DEBUG - Database health check successful
2024-12-22 13:16:05 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:16:05 - app.db.session - DEBUG - Closing database session
2024-12-22 13:16:05 - app.main - DEBUG - Health check details
2024-12-22 13:16:35 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:16:35 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:16:35 - sqlalchemy.engine.Engine - INFO - [cached since 270.5s ago] ()
2024-12-22 13:16:35 - app.db - DEBUG - Database health check successful
2024-12-22 13:16:35 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:16:35 - app.db.session - DEBUG - Closing database session
2024-12-22 13:16:35 - app.main - DEBUG - Health check details
2024-12-22 13:16:53 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:16:53 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE api_keys.id = ?
2024-12-22 13:16:53 - sqlalchemy.engine.Engine - INFO - [cached since 68.15s ago] (4,)
2024-12-22 13:16:53 - sqlalchemy.engine.Engine - INFO - UPDATE api_keys SET is_active=? WHERE api_keys.id = ?
2024-12-22 13:16:53 - sqlalchemy.engine.Engine - INFO - [cached since 166s ago] (0, 4)
2024-12-22 13:16:53 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:16:53 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:16:53 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE api_keys.id = ?
2024-12-22 13:16:53 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (4,)
2024-12-22 13:16:53 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:16:53 - app.db.session - DEBUG - Closing database session
2024-12-22 13:16:59 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:16:59 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys
2024-12-22 13:16:59 - sqlalchemy.engine.Engine - INFO - [cached since 285.5s ago] ()
2024-12-22 13:16:59 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:16:59 - sqlalchemy.engine.Engine - INFO - [cached since 285.5s ago] (1,)
2024-12-22 13:16:59 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:16:59 - sqlalchemy.engine.Engine - INFO - [cached since 285.5s ago] (2,)
2024-12-22 13:16:59 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:16:59 - sqlalchemy.engine.Engine - INFO - [cached since 285.5s ago] (3,)
2024-12-22 13:16:59 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:16:59 - app.db.session - DEBUG - Closing database session
2024-12-22 13:17:05 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:17:05 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:17:05 - sqlalchemy.engine.Engine - INFO - [cached since 300.6s ago] ()
2024-12-22 13:17:05 - app.db - DEBUG - Database health check successful
2024-12-22 13:17:05 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:17:05 - app.db.session - DEBUG - Closing database session
2024-12-22 13:17:05 - app.main - DEBUG - Health check details
2024-12-22 13:17:07 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:17:07 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE api_keys.id = ?
2024-12-22 13:17:07 - sqlalchemy.engine.Engine - INFO - [cached since 81.94s ago] (4,)
2024-12-22 13:17:07 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:17:07 - sqlalchemy.engine.Engine - INFO - [cached since 293.8s ago] (3,)
2024-12-22 13:17:07 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:17:07 - app.db.session - DEBUG - Closing database session
2024-12-22 13:17:15 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:17:15 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users
2024-12-22 13:17:15 - sqlalchemy.engine.Engine - INFO - [cached since 262.3s ago] ()
2024-12-22 13:17:15 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys
2024-12-22 13:17:15 - sqlalchemy.engine.Engine - INFO - [cached since 301.5s ago] ()
2024-12-22 13:17:15 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:17:15 - app.db.session - DEBUG - Closing database session
2024-12-22 13:17:29 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:17:29 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users
2024-12-22 13:17:29 - sqlalchemy.engine.Engine - INFO - [cached since 276.4s ago] ()
2024-12-22 13:17:29 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:17:29 - sqlalchemy.engine.Engine - INFO - [cached since 276.4s ago] (1,)
2024-12-22 13:17:29 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:17:29 - sqlalchemy.engine.Engine - INFO - [cached since 276.4s ago] (2,)
2024-12-22 13:17:29 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:17:29 - sqlalchemy.engine.Engine - INFO - [cached since 276.4s ago] (3,)
2024-12-22 13:17:29 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:17:29 - app.db.session - DEBUG - Closing database session
2024-12-22 13:17:35 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:17:35 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:17:35 - sqlalchemy.engine.Engine - INFO - [cached since 330.6s ago] ()
2024-12-22 13:17:35 - app.db - DEBUG - Database health check successful
2024-12-22 13:17:35 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:17:35 - app.db.session - DEBUG - Closing database session
2024-12-22 13:17:35 - app.main - DEBUG - Health check details
2024-12-22 13:17:36 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:17:36 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:17:36 - sqlalchemy.engine.Engine - INFO - [cached since 322.2s ago] (3,)
2024-12-22 13:17:36 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:17:36 - sqlalchemy.engine.Engine - INFO - [cached since 283.1s ago] (3,)
2024-12-22 13:17:36 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:17:36 - app.db.session - DEBUG - Closing database session
2024-12-22 13:18:05 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:18:05 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:18:05 - sqlalchemy.engine.Engine - INFO - [cached since 360.7s ago] ()
2024-12-22 13:18:05 - app.db - DEBUG - Database health check successful
2024-12-22 13:18:05 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:18:05 - app.db.session - DEBUG - Closing database session
2024-12-22 13:18:05 - app.main - DEBUG - Health check details
2024-12-22 13:18:06 - app.main - INFO - Initiating application shutdown...
2024-12-22 13:18:06 - app.main - INFO - Application shutdown completed successfully
2024-12-22 13:18:08 - app.main - INFO - Starting application initialization...
2024-12-22 13:18:08 - app.main - DEBUG - Application configuration:
2024-12-22 13:18:08 - app.main - DEBUG - Environment: development
2024-12-22 13:18:08 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 13:18:08 - app.main - DEBUG - API Key Auth: True
2024-12-22 13:18:08 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 13:18:08 - app.main - INFO - Initializing database...
2024-12-22 13:18:08 - app.db.init_db - INFO - Creating database tables...
2024-12-22 13:18:08 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:18:08 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 13:18:08 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:18:08 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 13:18:08 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:18:08 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:18:08 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 13:18:08 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 13:18:08 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:18:08 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:18:08 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:18:08 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:18:08 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:18:08 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:18:08 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:18:08 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:18:08 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:18:08 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:18:08 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:18:08 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:18:08 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:18:08 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:18:08 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:18:08 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:18:08 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:18:08 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:18:08 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:18:08 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:18:08 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:18:08 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:18:08 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:18:08 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:18:08 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:18:08 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:18:08 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:18:08 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:18:08 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:18:08 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:18:08 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:18:08 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:18:08 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:18:08 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:18:08 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:18:08 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:18:08 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:18:08 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:18:08 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:18:08 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 13:18:08 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('admin@example.com',)
2024-12-22 13:18:08 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 13:18:08 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 13:18:08 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 13:18:08 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('ADMIN', 1)
2024-12-22 13:18:08 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 13:18:08 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 13:18:08 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 13:18:08 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:18:08 - app.db.session - DEBUG - Closing database session
2024-12-22 13:18:08 - app.main - INFO - Application started successfully in development mode
2024-12-22 13:18:35 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:18:35 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:18:35 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ()
2024-12-22 13:18:35 - app.db - DEBUG - Database health check successful
2024-12-22 13:18:35 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:18:35 - app.db.session - DEBUG - Closing database session
2024-12-22 13:18:35 - app.main - DEBUG - Health check details
2024-12-22 13:18:40 - app.main - INFO - Initiating application shutdown...
2024-12-22 13:18:40 - app.main - INFO - Application shutdown completed successfully
2024-12-22 13:18:42 - app.main - INFO - Starting application initialization...
2024-12-22 13:18:42 - app.main - DEBUG - Application configuration:
2024-12-22 13:18:42 - app.main - DEBUG - Environment: development
2024-12-22 13:18:42 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 13:18:42 - app.main - DEBUG - API Key Auth: True
2024-12-22 13:18:42 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 13:18:42 - app.main - INFO - Initializing database...
2024-12-22 13:18:42 - app.db.init_db - INFO - Creating database tables...
2024-12-22 13:18:42 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:18:42 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 13:18:42 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:18:42 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 13:18:42 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:18:42 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:18:42 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 13:18:42 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 13:18:42 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:18:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:18:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:18:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:18:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:18:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:18:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:18:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:18:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:18:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:18:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:18:42 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:18:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:18:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:18:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:18:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:18:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:18:42 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:18:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:18:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:18:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:18:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:18:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:18:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:18:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:18:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:18:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:18:42 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:18:42 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:18:42 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:18:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:18:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:18:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:18:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:18:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:18:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:18:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:18:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:18:42 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:18:42 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 13:18:42 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('admin@example.com',)
2024-12-22 13:18:42 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 13:18:42 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 13:18:42 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 13:18:42 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('ADMIN', 1)
2024-12-22 13:18:42 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 13:18:42 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 13:18:42 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 13:18:42 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:18:42 - app.db.session - DEBUG - Closing database session
2024-12-22 13:18:42 - app.main - INFO - Application started successfully in development mode
2024-12-22 13:19:05 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:19:05 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:19:05 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2024-12-22 13:19:05 - app.db - DEBUG - Database health check successful
2024-12-22 13:19:05 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:19:05 - app.db.session - DEBUG - Closing database session
2024-12-22 13:19:05 - app.main - DEBUG - Health check details
2024-12-22 13:19:19 - app.main - INFO - Initiating application shutdown...
2024-12-22 13:19:19 - app.main - INFO - Application shutdown completed successfully
2024-12-22 13:19:21 - app.main - INFO - Starting application initialization...
2024-12-22 13:19:21 - app.main - DEBUG - Application configuration:
2024-12-22 13:19:21 - app.main - DEBUG - Environment: development
2024-12-22 13:19:21 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 13:19:21 - app.main - DEBUG - API Key Auth: True
2024-12-22 13:19:21 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 13:19:21 - app.main - INFO - Initializing database...
2024-12-22 13:19:21 - app.db.init_db - INFO - Creating database tables...
2024-12-22 13:19:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:19:21 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 13:19:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:19:21 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 13:19:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:19:21 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:19:21 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 13:19:21 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 13:19:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:19:21 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:19:21 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:19:21 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:19:21 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:19:21 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:19:21 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:19:21 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:19:21 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:19:21 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:19:21 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:19:21 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:19:21 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:19:21 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:19:21 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:19:21 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:19:21 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:19:21 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:19:21 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:19:21 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:19:21 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:19:21 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:19:21 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:19:21 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:19:21 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:19:21 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:19:21 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:19:21 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:19:21 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:19:21 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:19:21 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:19:21 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:19:21 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:19:21 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:19:21 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:19:21 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:19:21 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:19:21 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:19:21 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:19:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 13:19:21 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('admin@example.com',)
2024-12-22 13:19:21 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 13:19:21 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 13:19:21 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 13:19:21 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('ADMIN', 1)
2024-12-22 13:19:21 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 13:19:21 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 13:19:21 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 13:19:21 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:19:21 - app.db.session - DEBUG - Closing database session
2024-12-22 13:19:21 - app.main - INFO - Application started successfully in development mode
2024-12-22 13:19:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:19:31 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:19:31 - sqlalchemy.engine.Engine - INFO - [cached since 437.7s ago] (3,)
2024-12-22 13:19:31 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:19:31 - sqlalchemy.engine.Engine - INFO - [cached since 398.6s ago] (3,)
2024-12-22 13:19:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:19:31 - app.db.session - DEBUG - Closing database session
2024-12-22 13:19:35 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:19:35 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:19:35 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ()
2024-12-22 13:19:35 - app.db - DEBUG - Database health check successful
2024-12-22 13:19:35 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:19:35 - app.db.session - DEBUG - Closing database session
2024-12-22 13:19:35 - app.main - DEBUG - Health check details
2024-12-22 13:19:39 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:19:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:19:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:19:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:19:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:19:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:19:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:19:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:19:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:19:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:19:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:19:39 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:19:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:19:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:19:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:19:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:19:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:19:39 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:19:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:19:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:19:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:19:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:19:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:19:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:19:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:19:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:19:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:19:39 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:19:39 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:19:39 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:19:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:19:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:19:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:19:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:19:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:19:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:19:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:19:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:19:39 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:19:39 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.name AS users_name, users.email AS users_email, users.status AS users_status, users.created_at AS users_created_at 
FROM users 
WHERE users.id = ?
2024-12-22 13:19:39 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (3,)
2024-12-22 13:19:39 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:19:39 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (3,)
2024-12-22 13:19:39 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:19:39 - app.db.session - DEBUG - Closing database session
2024-12-22 13:19:48 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:19:48 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users
2024-12-22 13:19:48 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ()
2024-12-22 13:19:48 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:19:48 - sqlalchemy.engine.Engine - INFO - [cached since 9.367s ago] (1,)
2024-12-22 13:19:48 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:19:48 - sqlalchemy.engine.Engine - INFO - [cached since 9.368s ago] (2,)
2024-12-22 13:19:48 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:19:48 - sqlalchemy.engine.Engine - INFO - [cached since 9.369s ago] (3,)
2024-12-22 13:19:48 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:19:48 - app.db.session - DEBUG - Closing database session
2024-12-22 13:20:05 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:20:05 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:20:05 - sqlalchemy.engine.Engine - INFO - [cached since 30.06s ago] ()
2024-12-22 13:20:05 - app.db - DEBUG - Database health check successful
2024-12-22 13:20:05 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:20:05 - app.db.session - DEBUG - Closing database session
2024-12-22 13:20:05 - app.main - DEBUG - Health check details
2024-12-22 13:20:35 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:20:35 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:20:35 - sqlalchemy.engine.Engine - INFO - [cached since 60.12s ago] ()
2024-12-22 13:20:35 - app.db - DEBUG - Database health check successful
2024-12-22 13:20:35 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:20:35 - app.db.session - DEBUG - Closing database session
2024-12-22 13:20:35 - app.main - DEBUG - Health check details
2024-12-22 13:20:56 - app.main - INFO - Initiating application shutdown...
2024-12-22 13:20:56 - app.main - INFO - Application shutdown completed successfully
2024-12-22 13:20:57 - app.main - INFO - Starting application initialization...
2024-12-22 13:20:57 - app.main - DEBUG - Application configuration:
2024-12-22 13:20:57 - app.main - DEBUG - Environment: development
2024-12-22 13:20:57 - app.main - DEBUG - Log Level: DEBUG
2024-12-22 13:20:57 - app.main - DEBUG - API Key Auth: True
2024-12-22 13:20:57 - app.main - DEBUG - Rate Limit: 10/minute
2024-12-22 13:20:57 - app.main - INFO - Initializing database...
2024-12-22 13:20:57 - app.db.init_db - INFO - Creating database tables...
2024-12-22 13:20:57 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:20:57 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2024-12-22 13:20:57 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:20:57 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("api_keys")
2024-12-22 13:20:57 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2024-12-22 13:20:57 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:20:57 - app.db.init_db - INFO - Database tables created successfully
2024-12-22 13:20:57 - app.db.init_db - INFO - Checking for existing admin user...
2024-12-22 13:20:57 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:20:57 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:20:57 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:20:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:20:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:20:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:20:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:20:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:20:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:20:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:20:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:20:57 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:20:57 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:20:57 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:20:57 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:20:57 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:20:57 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:20:57 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:20:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:20:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:20:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:20:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:20:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:20:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:20:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:20:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:20:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:20:57 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:20:57 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:20:57 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:20:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:20:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:20:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:20:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:20:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:20:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:20:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:20:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:20:57 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:20:57 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users 
WHERE users.email = ?
2024-12-22 13:20:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('admin@example.com',)
2024-12-22 13:20:57 - app.db.init_db - INFO - Found existing admin user: System Admin
2024-12-22 13:20:57 - app.db.init_db - INFO - Checking for existing admin API keys...
2024-12-22 13:20:57 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id, api_keys."key", api_keys.name, api_keys.role, api_keys.created_at, api_keys.last_used, api_keys.is_active, api_keys.user_id 
FROM api_keys 
WHERE api_keys.role = ? AND api_keys.user_id = ? AND api_keys.is_active = 1
2024-12-22 13:20:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('ADMIN', 1)
2024-12-22 13:20:57 - app.db.init_db - INFO - Found existing admin key for: System Admin's Admin Key
2024-12-22 13:20:57 - app.db.init_db - INFO - Skipping initial admin key creation
2024-12-22 13:20:57 - app.db.init_db - INFO - Database initialization completed successfully
2024-12-22 13:20:57 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:20:57 - app.db.session - DEBUG - Closing database session
2024-12-22 13:20:57 - app.main - INFO - Application started successfully in development mode
2024-12-22 13:21:05 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:21:05 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() started
2024-12-22 13:21:05 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop api_keys
2024-12-22 13:21:05 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup primary join users.id = api_keys.user_id
2024-12-22 13:21:05 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys setup secondary join None
2024-12-22 13:21:05 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:21:05 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys secondary synchronize pairs []
2024-12-22 13:21:05 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local/remote pairs [(users.id / api_keys.user_id)]
2024-12-22 13:21:05 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys remote columns [api_keys.user_id]
2024-12-22 13:21:05 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys local columns [users.id]
2024-12-22 13:21:05 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - User.api_keys relationship direction RelationshipDirection.ONETOMANY
2024-12-22 13:21:05 - sqlalchemy.orm.strategies.LazyLoader - INFO - User.api_keys lazy loading clause :param_1 = api_keys.user_id
2024-12-22 13:21:05 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop id
2024-12-22 13:21:05 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop name
2024-12-22 13:21:05 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop email
2024-12-22 13:21:05 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop status
2024-12-22 13:21:05 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) initialize prop created_at
2024-12-22 13:21:05 - sqlalchemy.orm.mapper.Mapper - INFO - (User|users) _post_configure_properties() complete
2024-12-22 13:21:05 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() started
2024-12-22 13:21:05 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user
2024-12-22 13:21:05 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup primary join users.id = api_keys.user_id
2024-12-22 13:21:05 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user setup secondary join None
2024-12-22 13:21:05 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user synchronize pairs [(users.id => api_keys.user_id)]
2024-12-22 13:21:05 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user secondary synchronize pairs []
2024-12-22 13:21:05 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local/remote pairs [(api_keys.user_id / users.id)]
2024-12-22 13:21:05 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user remote columns [users.id]
2024-12-22 13:21:05 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user local columns [api_keys.user_id]
2024-12-22 13:21:05 - sqlalchemy.orm.relationships.RelationshipProperty - INFO - APIKey.user relationship direction RelationshipDirection.MANYTOONE
2024-12-22 13:21:05 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user lazy loading clause users.id = :param_1
2024-12-22 13:21:05 - sqlalchemy.orm.strategies.LazyLoader - INFO - APIKey.user will use Session.get() to optimize instance loads
2024-12-22 13:21:05 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop id
2024-12-22 13:21:05 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop key
2024-12-22 13:21:05 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop name
2024-12-22 13:21:05 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop role
2024-12-22 13:21:05 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop created_at
2024-12-22 13:21:05 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop last_used
2024-12-22 13:21:05 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop is_active
2024-12-22 13:21:05 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) initialize prop user_id
2024-12-22 13:21:05 - sqlalchemy.orm.mapper.Mapper - INFO - (APIKey|api_keys) _post_configure_properties() complete
2024-12-22 13:21:05 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.name, users.email, users.status, users.created_at 
FROM users
2024-12-22 13:21:05 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ()
2024-12-22 13:21:05 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:21:05 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] (1,)
2024-12-22 13:21:05 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:21:05 - sqlalchemy.engine.Engine - INFO - [cached since 0.002423s ago] (2,)
2024-12-22 13:21:05 - sqlalchemy.engine.Engine - INFO - SELECT api_keys.id AS api_keys_id, api_keys."key" AS api_keys_key, api_keys.name AS api_keys_name, api_keys.role AS api_keys_role, api_keys.created_at AS api_keys_created_at, api_keys.last_used AS api_keys_last_used, api_keys.is_active AS api_keys_is_active, api_keys.user_id AS api_keys_user_id 
FROM api_keys 
WHERE ? = api_keys.user_id
2024-12-22 13:21:05 - sqlalchemy.engine.Engine - INFO - [cached since 0.003731s ago] (3,)
2024-12-22 13:21:05 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:21:05 - app.db.session - DEBUG - Closing database session
2024-12-22 13:21:05 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2024-12-22 13:21:05 - sqlalchemy.engine.Engine - INFO - SELECT 1
2024-12-22 13:21:05 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ()
2024-12-22 13:21:05 - app.db - DEBUG - Database health check successful
2024-12-22 13:21:05 - sqlalchemy.engine.Engine - INFO - COMMIT
2024-12-22 13:21:05 - app.db.session - DEBUG - Closing database session
2024-12-22 13:21:05 - app.main - DEBUG - Health check details
2024-12-22 13:21:23 - app.main - INFO - Initiating application shutdown...
2024-12-22 13:21:23 - app.main - INFO - Application shutdown completed successfully
